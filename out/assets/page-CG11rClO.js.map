{"version":3,"file":"page-CG11rClO.js","sources":["../../src/pages/planejamento/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport Sidebar from '../dashboard/components/Sidebar';\nimport TopBar from '../dashboard/components/TopBar';\nimport { supabase } from '../../lib/supabase';\n\ninterface Servico {\n  id: string;\n  nome: string;\n  percentual_revisao: number;\n}\n\ninterface Equipamento {\n  id: string;\n  nome: string;\n  servicos?: Servico[];\n}\n\ninterface Equipe {\n  id: string;\n  nome: string;\n}\n\ninterface AtividadePlanejada {\n  id: string;\n  equipamento_id: string;\n  equipamento_nome: string;\n  servico_id: string;\n  servico_nome: string;\n  equipe_id: string;\n  equipe_nome: string;\n  dia_semana: number;\n  concluido: boolean;\n  observacoes?: string;\n}\n\nexport default function PlanejamentoPage() {\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [darkMode, setDarkMode] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const [atividades, setAtividades] = useState<AtividadePlanejada[]>([]);\n  const [equipamentos, setEquipamentos] = useState<Equipamento[]>([]);\n  const [equipes, setEquipes] = useState<Equipe[]>([]);\n  const [semanaAtual, setSemanaAtual] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n  const [diaSelecionado, setDiaSelecionado] = useState<number>(1);\n  const [formData, setFormData] = useState({\n    equipamento_id: '',\n    servico_id: '',\n    equipe_id: '',\n    observacoes: ''\n  });\n\n  const diasSemana = [\n    { numero: 1, nome: 'Segunda-feira', abrev: 'SEG' },\n    { numero: 2, nome: 'Ter√ßa-feira', abrev: 'TER' },\n    { numero: 3, nome: 'Quarta-feira', abrev: 'QUA' },\n    { numero: 4, nome: 'Quinta-feira', abrev: 'QUI' },\n    { numero: 5, nome: 'Sexta-feira', abrev: 'SEX' },\n    { numero: 6, nome: 'S√°bado', abrev: 'S√ÅB' }\n  ];\n\n  useEffect(() => {\n    if (darkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [darkMode]);\n\n  useEffect(() => {\n    loadData();\n  }, [semanaAtual]);\n\n  const loadData = async () => {\n    await Promise.all([\n      loadEquipamentos(),\n      loadEquipes(),\n      loadAtividades()\n    ]);\n  };\n\n  const loadEquipamentos = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('equipamentos')\n        .select(`\n          id,\n          nome,\n          equipamento_servicos (\n            id,\n            nome,\n            percentual_revisao,\n            ordem\n          )\n        `)\n        .order('nome');\n\n      if (!error && data) {\n        setEquipamentos(data.map(eq => ({\n          id: eq.id,\n          nome: eq.nome,\n          servicos: (eq.equipamento_servicos || [])\n            .sort((a: any, b: any) => a.ordem - b.ordem)\n            .map((s: any) => ({\n              id: s.id,\n              nome: s.nome,\n              percentual_revisao: s.percentual_revisao\n            }))\n        })));\n      }\n    } catch (error) {\n      console.error('Erro ao carregar equipamentos:', error);\n    }\n  };\n\n  const loadEquipes = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('equipes')\n        .select('id, nome')\n        .order('nome');\n\n      if (!error && data) {\n        setEquipes(data);\n      }\n    } catch (error) {\n      console.error('Erro ao carregar equipes:', error);\n    }\n  };\n\n  const loadAtividades = async () => {\n    try {\n      setLoading(true);\n      const { data, error } = await supabase\n        .from('planejamento_semana')\n        .select(`\n          *,\n          equipamentos (nome),\n          equipamento_servicos (nome),\n          equipes (nome)\n        `)\n        .eq('semana', semanaAtual)\n        .order('dia_semana', { ascending: true });\n\n      if (!error && data) {\n        setAtividades(data.map(item => ({\n          id: item.id,\n          equipamento_id: item.equipamento_id,\n          equipamento_nome: item.equipamentos?.nome || 'Sem equipamento',\n          servico_id: item.servico_id,\n          servico_nome: item.equipamento_servicos?.nome || 'Sem servi√ßo',\n          equipe_id: item.equipe_id,\n          equipe_nome: item.equipes?.nome || 'Sem equipe',\n          dia_semana: item.dia_semana,\n          concluido: item.concluido || false,\n          observacoes: item.observacoes\n        })));\n      }\n    } catch (error) {\n      console.error('Erro ao carregar atividades:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDiaClick = (dia: number) => {\n    setDiaSelecionado(dia);\n    setShowModal(true);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      const { error } = await supabase\n        .from('planejamento_semana')\n        .insert([{\n          equipamento_id: formData.equipamento_id,\n          servico_id: formData.servico_id,\n          equipe_id: formData.equipe_id,\n          dia_semana: diaSelecionado,\n          semana: semanaAtual,\n          status: 'planejado',\n          concluido: false,\n          observacoes: formData.observacoes,\n          created_at: new Date().toISOString()\n        }]);\n\n      if (error) throw error;\n\n      setShowModal(false);\n      setFormData({\n        equipamento_id: '',\n        servico_id: '',\n        equipe_id: '',\n        observacoes: ''\n      });\n      loadAtividades();\n    } catch (error) {\n      console.error('Erro ao criar atividade:', error);\n      alert('Erro ao criar atividade. Verifique os dados e tente novamente.');\n    }\n  };\n\n  const handleConcluir = async (id: string, concluido: boolean) => {\n    try {\n      const { error } = await supabase\n        .from('planejamento_semana')\n        .update({\n          concluido: !concluido,\n          data_conclusao: !concluido ? new Date().toISOString() : null\n        })\n        .eq('id', id);\n\n      if (error) throw error;\n      loadAtividades();\n    } catch (error) {\n      console.error('Erro ao atualizar atividade:', error);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    if (confirm('Tem certeza que deseja excluir esta atividade?')) {\n      try {\n        const { error } = await supabase\n          .from('planejamento_semana')\n          .delete()\n          .eq('id', id);\n\n        if (error) throw error;\n        loadAtividades();\n      } catch (error) {\n        console.error('Erro ao excluir atividade:', error);\n      }\n    }\n  };\n\n  const getAtividadesPorDia = (dia: number) => {\n    return atividades.filter(a => a.dia_semana === dia);\n  };\n\n  const equipamentoSelecionado = equipamentos.find(eq => eq.id === formData.equipamento_id);\n\n  return (\n    <div className={`min-h-screen ${darkMode ? 'bg-slate-900' : 'bg-gray-100'} transition-colors duration-300`}>\n      <Sidebar isOpen={sidebarOpen} onToggle={() => setSidebarOpen(!sidebarOpen)} darkMode={darkMode} />\n      \n      <div className={`transition-all duration-300 ${sidebarOpen ? 'ml-64' : 'ml-20'}`}>\n        <TopBar darkMode={darkMode} setDarkMode={setDarkMode} />\n        \n        <main className=\"p-6\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between mb-8\">\n            <div>\n              <h1 className={`text-3xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\n                üìÖ Planejamento Semanal\n              </h1>\n              <p className={`mt-1 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                Organize as atividades de manuten√ß√£o da semana\n              </p>\n            </div>\n          </div>\n\n          {/* Seletor de Semana */}\n          <div className={`${darkMode ? 'bg-slate-800' : 'bg-white'} rounded-xl p-6 mb-6 shadow-lg`}>\n            <div className=\"flex items-center justify-between\">\n              <button\n                onClick={() => setSemanaAtual(semanaAtual - 1)}\n                className={`flex items-center gap-2 px-4 py-2 rounded-lg ${darkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-100 text-gray-900 hover:bg-gray-200'} transition-all cursor-pointer`}\n              >\n                <i className=\"ri-arrow-left-line\"></i>\n                Semana Anterior\n              </button>\n              \n              <div className=\"text-center\">\n                <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\n                  Semana {semanaAtual === 0 ? 'Atual' : semanaAtual > 0 ? `+${semanaAtual}` : semanaAtual}\n                </h2>\n                <p className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                  {atividades.length} atividades planejadas\n                </p>\n              </div>\n              \n              <button\n                onClick={() => setSemanaAtual(semanaAtual + 1)}\n                className={`flex items-center gap-2 px-4 py-2 rounded-lg ${darkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-100 text-gray-900 hover:bg-gray-200'} transition-all cursor-pointer`}\n              >\n                Pr√≥xima Semana\n                <i className=\"ri-arrow-right-line\"></i>\n              </button>\n            </div>\n          </div>\n\n          {/* Grid de Dias da Semana */}\n          {loading ? (\n            <div className=\"flex items-center justify-center h-64\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {diasSemana.map((dia) => {\n                const atividadesDia = getAtividadesPorDia(dia.numero);\n                const concluidasDia = atividadesDia.filter(a => a.concluido).length;\n                \n                return (\n                  <div\n                    key={dia.numero}\n                    className={`${darkMode ? 'bg-slate-800' : 'bg-white'} rounded-xl shadow-lg hover:shadow-xl transition-all overflow-hidden`}\n                  >\n                    {/* Header do Dia */}\n                    <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <h3 className=\"text-white font-bold text-lg\">{dia.nome}</h3>\n                          <p className=\"text-blue-100 text-sm\">\n                            {atividadesDia.length} atividade{atividadesDia.length !== 1 ? 's' : ''}\n                          </p>\n                        </div>\n                        <button\n                          onClick={() => handleDiaClick(dia.numero)}\n                          className=\"w-10 h-10 bg-white/20 hover:bg-white/30 rounded-lg flex items-center justify-center transition-all cursor-pointer\"\n                        >\n                          <i className=\"ri-add-line text-white text-2xl\"></i>\n                        </button>\n                      </div>\n                      \n                      {/* Progresso do Dia */}\n                      {atividadesDia.length > 0 && (\n                        <div className=\"mt-3\">\n                          <div className=\"flex items-center justify-between text-xs text-blue-100 mb-1\">\n                            <span>Progresso</span>\n                            <span>{Math.round((concluidasDia / atividadesDia.length) * 100)}%</span>\n                          </div>\n                          <div className=\"w-full bg-white/20 rounded-full h-2\">\n                            <div\n                              className=\"bg-white rounded-full h-2 transition-all\"\n                              style={{ width: `${(concluidasDia / atividadesDia.length) * 100}%` }}\n                            ></div>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Lista de Atividades */}\n                    <div className=\"p-4 space-y-3 max-h-96 overflow-y-auto\">\n                      {atividadesDia.length === 0 ? (\n                        <div className=\"text-center py-8\">\n                          <i className={`ri-calendar-line text-4xl mb-2 ${darkMode ? 'text-gray-600' : 'text-gray-300'}`}></i>\n                          <p className={`text-sm ${darkMode ? 'text-gray-500' : 'text-gray-400'}`}>\n                            Nenhuma atividade planejada\n                          </p>\n                        </div>\n                      ) : (\n                        atividadesDia.map((atividade) => (\n                          <div\n                            key={atividade.id}\n                            className={`p-3 rounded-lg border ${\n                              atividade.concluido\n                                ? darkMode ? 'bg-green-500/10 border-green-500/30' : 'bg-green-50 border-green-200'\n                                : darkMode ? 'bg-slate-700 border-slate-600' : 'bg-gray-50 border-gray-200'\n                            }`}\n                          >\n                            <div className=\"flex items-start gap-3\">\n                              <button\n                                onClick={() => handleConcluir(atividade.id, atividade.concluido)}\n                                className={`mt-1 w-5 h-5 rounded border-2 flex items-center justify-center transition-all cursor-pointer ${\n                                  atividade.concluido\n                                    ? 'bg-green-500 border-green-500'\n                                    : darkMode ? 'border-gray-500 hover:border-green-500' : 'border-gray-300 hover:border-green-500'\n                                }`}\n                              >\n                                {atividade.concluido && (\n                                  <i className=\"ri-check-line text-white text-xs\"></i>\n                                )}\n                              </button>\n                              \n                              <div className=\"flex-1 min-w-0\">\n                                <h4 className={`font-semibold text-sm mb-1 ${\n                                  atividade.concluido\n                                    ? darkMode ? 'text-green-400 line-through' : 'text-green-600 line-through'\n                                    : darkMode ? 'text-white' : 'text-gray-900'\n                                }`}>\n                                  {atividade.equipamento_nome}\n                                </h4>\n                                <p className={`text-xs mb-1 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                                  üîß {atividade.servico_nome}\n                                </p>\n                                <p className={`text-xs ${darkMode ? 'text-gray-500' : 'text-gray-500'}`}>\n                                  üë• {atividade.equipe_nome}\n                                </p>\n                              </div>\n                              \n                              <button\n                                onClick={() => handleDelete(atividade.id)}\n                                className={`p-1 rounded hover:bg-red-500/20 transition-all cursor-pointer`}\n                              >\n                                <i className=\"ri-delete-bin-line text-red-400 text-sm\"></i>\n                              </button>\n                            </div>\n                          </div>\n                        ))\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </main>\n      </div>\n\n      {/* Modal Nova Atividade */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className={`${darkMode ? 'bg-slate-800' : 'bg-white'} rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto`}>\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\n                Nova Atividade - {diasSemana.find(d => d.numero === diaSelecionado)?.nome}\n              </h2>\n              <button\n                onClick={() => setShowModal(false)}\n                className={`p-2 rounded-lg ${darkMode ? 'hover:bg-slate-700' : 'hover:bg-gray-100'} transition-all cursor-pointer`}\n              >\n                <i className={`ri-close-line text-2xl ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}></i>\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div>\n                <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                  Equipamento\n                </label>\n                <select\n                  value={formData.equipamento_id}\n                  onChange={(e) => setFormData({ ...formData, equipamento_id: e.target.value, servico_id: '' })}\n                  className={`w-full px-4 py-3 rounded-lg border ${darkMode ? 'bg-slate-700 border-slate-600 text-white' : 'bg-white border-gray-300 text-gray-900'} focus:ring-2 focus:ring-blue-500 outline-none pr-8`}\n                  required\n                >\n                  <option value=\"\">Selecione um equipamento</option>\n                  {equipamentos.map(eq => (\n                    <option key={eq.id} value={eq.id}>{eq.nome}</option>\n                  ))}\n                </select>\n              </div>\n\n              {equipamentoSelecionado && equipamentoSelecionado.servicos && equipamentoSelecionado.servicos.length > 0 && (\n                <div>\n                  <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                    Servi√ßo\n                  </label>\n                  <select\n                    value={formData.servico_id}\n                    onChange={(e) => setFormData({ ...formData, servico_id: e.target.value })}\n                    className={`w-full px-4 py-3 rounded-lg border ${darkMode ? 'bg-slate-700 border-slate-600 text-white' : 'bg-white border-gray-300 text-gray-900'} focus:ring-2 focus:ring-blue-500 outline-none pr-8`}\n                    required\n                  >\n                    <option value=\"\">Selecione um servi√ßo</option>\n                    {equipamentoSelecionado.servicos.map(servico => (\n                      <option key={servico.id} value={servico.id}>\n                        {servico.nome} ({servico.percentual_revisao}% da revis√£o)\n                      </option>\n                    ))}\n                  </select>\n                </div>\n              )}\n\n              {equipamentoSelecionado && (!equipamentoSelecionado.servicos || equipamentoSelecionado.servicos.length === 0) && (\n                <div className={`p-4 rounded-lg ${darkMode ? 'bg-yellow-500/10 border border-yellow-500/30' : 'bg-yellow-50 border border-yellow-200'}`}>\n                  <p className={`text-sm ${darkMode ? 'text-yellow-400' : 'text-yellow-700'}`}>\n                    ‚ö†Ô∏è Este equipamento n√£o possui servi√ßos cadastrados. Cadastre os servi√ßos na p√°gina de Equipamentos primeiro.\n                  </p>\n                </div>\n              )}\n\n              <div>\n                <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                  Equipe Respons√°vel\n                </label>\n                <select\n                  value={formData.equipe_id}\n                  onChange={(e) => setFormData({ ...formData, equipe_id: e.target.value })}\n                  className={`w-full px-4 py-3 rounded-lg border ${darkMode ? 'bg-slate-700 border-slate-600 text-white' : 'bg-white border-gray-300 text-gray-900'} focus:ring-2 focus:ring-blue-500 outline-none pr-8`}\n                  required\n                >\n                  <option value=\"\">Selecione uma equipe</option>\n                  {equipes.map(equipe => (\n                    <option key={equipe.id} value={equipe.id}>{equipe.nome}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                  Observa√ß√µes (opcional)\n                </label>\n                <textarea\n                  value={formData.observacoes}\n                  onChange={(e) => setFormData({ ...formData, observacoes: e.target.value })}\n                  className={`w-full px-4 py-3 rounded-lg border ${darkMode ? 'bg-slate-700 border-slate-600 text-white' : 'bg-white border-gray-300 text-gray-900'} focus:ring-2 focus:ring-blue-500 outline-none`}\n                  rows={3}\n                  maxLength={500}\n                />\n              </div>\n\n              <div className=\"flex gap-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowModal(false)}\n                  className={`flex-1 px-6 py-3 rounded-lg border ${darkMode ? 'border-slate-600 text-gray-300 hover:bg-slate-700' : 'border-gray-300 text-gray-700 hover:bg-gray-50'} transition-all whitespace-nowrap cursor-pointer`}\n                >\n                  Cancelar\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={!formData.equipamento_id || !formData.servico_id || !formData.equipe_id}\n                  className=\"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg hover:shadow-lg hover:shadow-purple-500/50 transition-all whitespace-nowrap cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Adicionar Atividade\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["PlanejamentoPage","sidebarOpen","setSidebarOpen","useState","darkMode","setDarkMode","loading","setLoading","atividades","setAtividades","equipamentos","setEquipamentos","equipes","setEquipes","semanaAtual","setSemanaAtual","showModal","setShowModal","diaSelecionado","setDiaSelecionado","formData","setFormData","diasSemana","useEffect","loadData","loadEquipamentos","loadEquipes","loadAtividades","data","error","supabase","eq","a","b","s","item","_a","_b","_c","handleDiaClick","dia","handleSubmit","e","handleConcluir","id","concluido","handleDelete","getAtividadesPorDia","equipamentoSelecionado","jsx","Sidebar","TopBar","jsxs","atividadesDia","concluidasDia","atividade","d","servico","equipe"],"mappings":"sGAmCA,SAAwBA,GAAmB,OACzC,KAAM,CAACC,EAAaC,CAAc,EAAIC,EAAAA,SAAS,EAAI,EAC7C,CAACC,EAAUC,CAAW,EAAIF,EAAAA,SAAS,EAAI,EACvC,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,EAAI,EACrC,CAACK,EAAYC,CAAa,EAAIN,EAAAA,SAA+B,CAAA,CAAE,EAC/D,CAACO,EAAcC,CAAe,EAAIR,EAAAA,SAAwB,CAAA,CAAE,EAC5D,CAACS,EAASC,CAAU,EAAIV,EAAAA,SAAmB,CAAA,CAAE,EAC7C,CAACW,EAAaC,CAAc,EAAIZ,EAAAA,SAAS,CAAC,EAC1C,CAACa,EAAWC,CAAY,EAAId,EAAAA,SAAS,EAAK,EAC1C,CAACe,EAAgBC,CAAiB,EAAIhB,EAAAA,SAAiB,CAAC,EACxD,CAACiB,EAAUC,CAAW,EAAIlB,WAAS,CACvC,eAAgB,GAChB,WAAY,GACZ,UAAW,GACX,YAAa,EAAA,CACd,EAEKmB,EAAa,CACjB,CAAE,OAAQ,EAAG,KAAM,gBAAiB,MAAO,KAAA,EAC3C,CAAE,OAAQ,EAAG,KAAM,cAAe,MAAO,KAAA,EACzC,CAAE,OAAQ,EAAG,KAAM,eAAgB,MAAO,KAAA,EAC1C,CAAE,OAAQ,EAAG,KAAM,eAAgB,MAAO,KAAA,EAC1C,CAAE,OAAQ,EAAG,KAAM,cAAe,MAAO,KAAA,EACzC,CAAE,OAAQ,EAAG,KAAM,SAAU,MAAO,KAAA,CAAM,EAG5CC,EAAAA,UAAU,IAAM,CACVnB,EACF,SAAS,gBAAgB,UAAU,IAAI,MAAM,EAE7C,SAAS,gBAAgB,UAAU,OAAO,MAAM,CAEpD,EAAG,CAACA,CAAQ,CAAC,EAEbmB,EAAAA,UAAU,IAAM,CACdC,EAAA,CACF,EAAG,CAACV,CAAW,CAAC,EAEhB,MAAMU,EAAW,SAAY,CAC3B,MAAM,QAAQ,IAAI,CAChBC,EAAA,EACAC,EAAA,EACAC,EAAA,CAAe,CAChB,CACH,EAEMF,EAAmB,SAAY,CACnC,GAAI,CACF,KAAM,CAAE,KAAAG,EAAM,MAAAC,GAAU,MAAMC,EAC3B,KAAK,cAAc,EACnB,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SASP,EACA,MAAM,MAAM,EAEX,CAACD,GAASD,GACZjB,EAAgBiB,EAAK,IAAIG,IAAO,CAC9B,GAAIA,EAAG,GACP,KAAMA,EAAG,KACT,UAAWA,EAAG,sBAAwB,CAAA,GACnC,KAAK,CAACC,EAAQC,IAAWD,EAAE,MAAQC,EAAE,KAAK,EAC1C,IAAKC,IAAY,CAChB,GAAIA,EAAE,GACN,KAAMA,EAAE,KACR,mBAAoBA,EAAE,kBAAA,EACtB,CAAA,EACJ,CAAC,CAEP,OAASL,EAAO,CACd,QAAQ,MAAM,iCAAkCA,CAAK,CACvD,CACF,EAEMH,EAAc,SAAY,CAC9B,GAAI,CACF,KAAM,CAAE,KAAAE,EAAM,MAAAC,CAAA,EAAU,MAAMC,EAC3B,KAAK,SAAS,EACd,OAAO,UAAU,EACjB,MAAM,MAAM,EAEX,CAACD,GAASD,GACZf,EAAWe,CAAI,CAEnB,OAASC,EAAO,CACd,QAAQ,MAAM,4BAA6BA,CAAK,CAClD,CACF,EAEMF,EAAiB,SAAY,CACjC,GAAI,CACFpB,EAAW,EAAI,EACf,KAAM,CAAE,KAAAqB,EAAM,MAAAC,GAAU,MAAMC,EAC3B,KAAK,qBAAqB,EAC1B,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,SAKP,EACA,GAAG,SAAUhB,CAAW,EACxB,MAAM,aAAc,CAAE,UAAW,GAAM,EAEtC,CAACe,GAASD,GACZnB,EAAcmB,EAAK,IAAIO,GAAA,WAAS,OAC9B,GAAIA,EAAK,GACT,eAAgBA,EAAK,eACrB,mBAAkBC,EAAAD,EAAK,eAAL,YAAAC,EAAmB,OAAQ,kBAC7C,WAAYD,EAAK,WACjB,eAAcE,EAAAF,EAAK,uBAAL,YAAAE,EAA2B,OAAQ,cACjD,UAAWF,EAAK,UAChB,cAAaG,EAAAH,EAAK,UAAL,YAAAG,EAAc,OAAQ,aACnC,WAAYH,EAAK,WACjB,UAAWA,EAAK,WAAa,GAC7B,YAAaA,EAAK,WAAA,EAClB,CAAC,CAEP,OAASN,EAAO,CACd,QAAQ,MAAM,+BAAgCA,CAAK,CACrD,QAAA,CACEtB,EAAW,EAAK,CAClB,CACF,EAEMgC,EAAkBC,GAAgB,CACtCrB,EAAkBqB,CAAG,EACrBvB,EAAa,EAAI,CACnB,EAEMwB,EAAe,MAAOC,GAAuB,CACjDA,EAAE,eAAA,EACF,GAAI,CACF,KAAM,CAAE,MAAAb,GAAU,MAAMC,EACrB,KAAK,qBAAqB,EAC1B,OAAO,CAAC,CACP,eAAgBV,EAAS,eACzB,WAAYA,EAAS,WACrB,UAAWA,EAAS,UACpB,WAAYF,EACZ,OAAQJ,EACR,OAAQ,YACR,UAAW,GACX,YAAaM,EAAS,YACtB,WAAY,IAAI,KAAA,EAAO,YAAA,CAAY,CACpC,CAAC,EAEJ,GAAIS,EAAO,MAAMA,EAEjBZ,EAAa,EAAK,EAClBI,EAAY,CACV,eAAgB,GAChB,WAAY,GACZ,UAAW,GACX,YAAa,EAAA,CACd,EACDM,EAAA,CACF,OAASE,EAAO,CACd,QAAQ,MAAM,2BAA4BA,CAAK,EAC/C,MAAM,gEAAgE,CACxE,CACF,EAEMc,EAAiB,MAAOC,EAAYC,IAAuB,CAC/D,GAAI,CACF,KAAM,CAAE,MAAAhB,GAAU,MAAMC,EACrB,KAAK,qBAAqB,EAC1B,OAAO,CACN,UAAW,CAACe,EACZ,eAAiBA,EAAuC,SAAvB,KAAA,EAAO,aAAgB,CACzD,EACA,GAAG,KAAMD,CAAE,EAEd,GAAIf,EAAO,MAAMA,EACjBF,EAAA,CACF,OAASE,EAAO,CACd,QAAQ,MAAM,+BAAgCA,CAAK,CACrD,CACF,EAEMiB,EAAe,MAAOF,GAAe,CACzC,GAAI,QAAQ,gDAAgD,EAC1D,GAAI,CACF,KAAM,CAAE,MAAAf,CAAA,EAAU,MAAMC,EACrB,KAAK,qBAAqB,EAC1B,OAAA,EACA,GAAG,KAAMc,CAAE,EAEd,GAAIf,EAAO,MAAMA,EACjBF,EAAA,CACF,OAASE,EAAO,CACd,QAAQ,MAAM,6BAA8BA,CAAK,CACnD,CAEJ,EAEMkB,EAAuBP,GACpBhC,EAAW,OAAOwB,GAAKA,EAAE,aAAeQ,CAAG,EAG9CQ,EAAyBtC,EAAa,QAAWqB,EAAG,KAAOX,EAAS,cAAc,EAExF,cACG,MAAA,CAAI,UAAW,gBAAgBhB,EAAW,eAAiB,aAAa,kCACvE,SAAA,CAAA6C,EAAAA,IAACC,EAAA,CAAQ,OAAQjD,EAAa,SAAU,IAAMC,EAAe,CAACD,CAAW,EAAG,SAAAG,EAAoB,SAE/F,MAAA,CAAI,UAAW,+BAA+BH,EAAc,QAAU,OAAO,GAC5E,SAAA,CAAAgD,EAAAA,IAACE,EAAA,CAAO,SAAA/C,EAAoB,YAAAC,CAAA,CAA0B,EAEtD+C,EAAAA,KAAC,OAAA,CAAK,UAAU,MAEd,SAAA,CAAAH,MAAC,MAAA,CAAI,UAAU,yCACb,SAAAG,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAH,EAAAA,IAAC,MAAG,UAAW,sBAAsB7C,EAAW,aAAe,eAAe,GAAI,SAAA,yBAAA,CAElF,EACA6C,EAAAA,IAAC,KAAE,UAAW,QAAQ7C,EAAW,gBAAkB,eAAe,GAAI,SAAA,gDAAA,CAEtE,CAAA,CAAA,CACF,CAAA,CACF,EAGA6C,EAAAA,IAAC,MAAA,CAAI,UAAW,GAAG7C,EAAW,eAAiB,UAAU,iCACvD,SAAAgD,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMrC,EAAeD,EAAc,CAAC,EAC7C,UAAW,gDAAgDV,EAAW,6CAA+C,6CAA6C,iCAElK,SAAA,CAAA6C,EAAAA,IAAC,IAAA,CAAE,UAAU,oBAAA,CAAqB,EAAI,iBAAA,CAAA,CAAA,EAIxCG,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAA,OAAC,MAAG,UAAW,sBAAsBhD,EAAW,aAAe,eAAe,GAAI,SAAA,CAAA,UACxEU,IAAgB,EAAI,QAAUA,EAAc,EAAI,IAAIA,CAAW,GAAKA,CAAA,EAC9E,SACC,IAAA,CAAE,UAAW,WAAWV,EAAW,gBAAkB,eAAe,GAClE,SAAA,CAAAI,EAAW,OAAO,wBAAA,CAAA,CACrB,CAAA,EACF,EAEA4C,EAAAA,KAAC,SAAA,CACC,QAAS,IAAMrC,EAAeD,EAAc,CAAC,EAC7C,UAAW,gDAAgDV,EAAW,6CAA+C,6CAA6C,iCACnK,SAAA,CAAA,iBAEC6C,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAA,CAAsB,CAAA,CAAA,CAAA,CACrC,CAAA,CACF,CAAA,CACF,EAGC3C,EACC2C,EAAAA,IAAC,MAAA,CAAI,UAAU,wCACb,SAAAA,EAAAA,IAAC,OAAI,UAAU,iEAAiE,CAAA,CAClF,QAEC,MAAA,CAAI,UAAU,uDACZ,SAAA3B,EAAW,IAAKkB,GAAQ,CACvB,MAAMa,EAAgBN,EAAoBP,EAAI,MAAM,EAC9Cc,EAAgBD,EAAc,OAAOrB,GAAKA,EAAE,SAAS,EAAE,OAE7D,OACEoB,EAAAA,KAAC,MAAA,CAEC,UAAW,GAAGhD,EAAW,eAAiB,UAAU,uEAGpD,SAAA,CAAAgD,EAAAA,KAAC,MAAA,CAAI,UAAU,mDACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAH,EAAAA,IAAC,KAAA,CAAG,UAAU,+BAAgC,SAAAT,EAAI,KAAK,EACvDY,EAAAA,KAAC,IAAA,CAAE,UAAU,wBACV,SAAA,CAAAC,EAAc,OAAO,aAAWA,EAAc,SAAW,EAAI,IAAM,EAAA,CAAA,CACtE,CAAA,EACF,EACAJ,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMV,EAAeC,EAAI,MAAM,EACxC,UAAU,oHAEV,SAAAS,EAAAA,IAAC,IAAA,CAAE,UAAU,iCAAA,CAAkC,CAAA,CAAA,CACjD,EACF,EAGCI,EAAc,OAAS,GACtBD,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+DACb,SAAA,CAAAH,EAAAA,IAAC,QAAK,SAAA,WAAA,CAAS,SACd,OAAA,CAAM,SAAA,CAAA,KAAK,MAAOK,EAAgBD,EAAc,OAAU,GAAG,EAAE,GAAA,CAAA,CAAC,CAAA,EACnE,EACAJ,EAAAA,IAAC,MAAA,CAAI,UAAU,sCACb,SAAAA,EAAAA,IAAC,MAAA,CACC,UAAU,2CACV,MAAO,CAAE,MAAO,GAAIK,EAAgBD,EAAc,OAAU,GAAG,GAAA,CAAI,CAAA,CACpE,CACH,CAAA,CAAA,CACF,CAAA,EAEJ,EAGAJ,EAAAA,IAAC,MAAA,CAAI,UAAU,yCACZ,SAAAI,EAAc,SAAW,EACxBD,EAAAA,KAAC,MAAA,CAAI,UAAU,mBACb,SAAA,CAAAH,MAAC,KAAE,UAAW,kCAAkC7C,EAAW,gBAAkB,eAAe,GAAI,EAChG6C,EAAAA,IAAC,KAAE,UAAW,WAAW7C,EAAW,gBAAkB,eAAe,GAAI,SAAA,6BAAA,CAEzE,CAAA,CAAA,CACF,EAEAiD,EAAc,IAAKE,GACjBN,EAAAA,IAAC,MAAA,CAEC,UAAW,yBACTM,EAAU,UACNnD,EAAW,sCAAwC,+BACnDA,EAAW,gCAAkC,4BACnD,GAEA,SAAAgD,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAH,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMN,EAAeY,EAAU,GAAIA,EAAU,SAAS,EAC/D,UAAW,gGACTA,EAAU,UACN,gCACAnD,EAAW,yCAA2C,wCAC5D,GAEC,SAAAmD,EAAU,WACTN,EAAAA,IAAC,IAAA,CAAE,UAAU,kCAAA,CAAmC,CAAA,CAAA,EAIpDG,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAH,EAAAA,IAAC,KAAA,CAAG,UAAW,8BACbM,EAAU,UACNnD,EAAW,8BAAgC,8BAC3CA,EAAW,aAAe,eAChC,GACG,WAAU,iBACb,SACC,IAAA,CAAE,UAAW,gBAAgBA,EAAW,gBAAkB,eAAe,GAAI,SAAA,CAAA,MACxEmD,EAAU,YAAA,EAChB,SACC,IAAA,CAAE,UAAW,wBAA2D,SAAA,CAAA,MACnEA,EAAU,WAAA,CAAA,CAChB,CAAA,EACF,EAEAN,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMH,EAAaS,EAAU,EAAE,EACxC,UAAW,gEAEX,SAAAN,EAAAA,IAAC,IAAA,CAAE,UAAU,yCAAA,CAA0C,CAAA,CAAA,CACzD,CAAA,CACF,CAAA,EA3CKM,EAAU,EAAA,CA6ClB,CAAA,CAEL,CAAA,CAAA,EAhGKf,EAAI,MAAA,CAmGf,CAAC,CAAA,CACH,CAAA,CAAA,CAEJ,CAAA,EACF,EAGCxB,GACCiC,EAAAA,IAAC,MAAA,CAAI,UAAU,sEACb,SAAAG,OAAC,MAAA,CAAI,UAAW,GAAGhD,EAAW,eAAiB,UAAU,gEACvD,SAAA,CAAAgD,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,OAAC,MAAG,UAAW,sBAAsBhD,EAAW,aAAe,eAAe,GAAI,SAAA,CAAA,qBAC9DgC,EAAAd,EAAW,KAAKkC,GAAKA,EAAE,SAAWtC,CAAc,IAAhD,YAAAkB,EAAmD,IAAA,EACvE,EACAa,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMhC,EAAa,EAAK,EACjC,UAAW,kBAAkBb,EAAW,qBAAuB,mBAAmB,iCAElF,eAAC,IAAA,CAAE,UAAW,0BAA0BA,EAAW,gBAAkB,eAAe,EAAA,CAAI,CAAA,CAAA,CAC1F,EACF,EAEAgD,EAAAA,KAAC,OAAA,CAAK,SAAUX,EAAc,UAAU,YACtC,SAAA,CAAAW,OAAC,MAAA,CACC,SAAA,CAAAH,EAAAA,IAAC,SAAM,UAAW,kCAAkC7C,EAAW,gBAAkB,eAAe,GAAI,SAAA,aAAA,CAEpG,EACAgD,EAAAA,KAAC,SAAA,CACC,MAAOhC,EAAS,eAChB,SAAWsB,GAAMrB,EAAY,CAAE,GAAGD,EAAU,eAAgBsB,EAAE,OAAO,MAAO,WAAY,GAAI,EAC5F,UAAW,sCAAsCtC,EAAW,2CAA6C,wCAAwC,sDACjJ,SAAQ,GAER,SAAA,CAAA6C,EAAAA,IAAC,SAAA,CAAO,MAAM,GAAG,SAAA,2BAAwB,EACxCvC,EAAa,IAAIqB,GAChBkB,EAAAA,IAAC,SAAA,CAAmB,MAAOlB,EAAG,GAAK,SAAAA,EAAG,IAAA,EAAzBA,EAAG,EAA2B,CAC5C,CAAA,CAAA,CAAA,CACH,EACF,EAECiB,GAA0BA,EAAuB,UAAYA,EAAuB,SAAS,OAAS,UACpG,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,SAAM,UAAW,kCAAkC7C,EAAW,gBAAkB,eAAe,GAAI,SAAA,SAAA,CAEpG,EACAgD,EAAAA,KAAC,SAAA,CACC,MAAOhC,EAAS,WAChB,SAAWsB,GAAMrB,EAAY,CAAE,GAAGD,EAAU,WAAYsB,EAAE,OAAO,MAAO,EACxE,UAAW,sCAAsCtC,EAAW,2CAA6C,wCAAwC,sDACjJ,SAAQ,GAER,SAAA,CAAA6C,EAAAA,IAAC,SAAA,CAAO,MAAM,GAAG,SAAA,uBAAoB,EACpCD,EAAuB,SAAS,IAAIS,UAClC,SAAA,CAAwB,MAAOA,EAAQ,GACrC,SAAA,CAAAA,EAAQ,KAAK,KAAGA,EAAQ,mBAAmB,eAAA,CAAA,EADjCA,EAAQ,EAErB,CACD,CAAA,CAAA,CAAA,CACH,EACF,EAGDT,IAA2B,CAACA,EAAuB,UAAYA,EAAuB,SAAS,SAAW,IACzGC,EAAAA,IAAC,MAAA,CAAI,UAAW,kBAAkB7C,EAAW,+CAAiD,uCAAuC,GACnI,SAAA6C,EAAAA,IAAC,IAAA,CAAE,UAAW,WAAW7C,EAAW,kBAAoB,iBAAiB,GAAI,SAAA,+GAAA,CAE7E,CAAA,CACF,SAGD,MAAA,CACC,SAAA,CAAA6C,EAAAA,IAAC,SAAM,UAAW,kCAAkC7C,EAAW,gBAAkB,eAAe,GAAI,SAAA,oBAAA,CAEpG,EACAgD,EAAAA,KAAC,SAAA,CACC,MAAOhC,EAAS,UAChB,SAAWsB,GAAMrB,EAAY,CAAE,GAAGD,EAAU,UAAWsB,EAAE,OAAO,MAAO,EACvE,UAAW,sCAAsCtC,EAAW,2CAA6C,wCAAwC,sDACjJ,SAAQ,GAER,SAAA,CAAA6C,EAAAA,IAAC,SAAA,CAAO,MAAM,GAAG,SAAA,uBAAoB,EACpCrC,EAAQ,IAAI8C,GACXT,EAAAA,IAAC,SAAA,CAAuB,MAAOS,EAAO,GAAK,SAAAA,EAAO,IAAA,EAArCA,EAAO,EAAmC,CACxD,CAAA,CAAA,CAAA,CACH,EACF,SAEC,MAAA,CACC,SAAA,CAAAT,EAAAA,IAAC,SAAM,UAAW,kCAAkC7C,EAAW,gBAAkB,eAAe,GAAI,SAAA,wBAAA,CAEpG,EACA6C,EAAAA,IAAC,WAAA,CACC,MAAO7B,EAAS,YAChB,SAAWsB,GAAMrB,EAAY,CAAE,GAAGD,EAAU,YAAasB,EAAE,OAAO,MAAO,EACzE,UAAW,sCAAsCtC,EAAW,2CAA6C,wCAAwC,iDACjJ,KAAM,EACN,UAAW,GAAA,CAAA,CACb,EACF,EAEAgD,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAH,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMhC,EAAa,EAAK,EACjC,UAAW,sCAAsCb,EAAW,oDAAsD,gDAAgD,mDACnK,SAAA,UAAA,CAAA,EAGD6C,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,SAAU,CAAC7B,EAAS,gBAAkB,CAACA,EAAS,YAAc,CAACA,EAAS,UACxE,UAAU,iOACX,SAAA,qBAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EAEJ,CAEJ"}