{"version":3,"file":"page-CQ9pgvzy.js","sources":["../../src/pages/equipes/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport Sidebar from '../dashboard/components/Sidebar';\nimport TopBar from '../dashboard/components/TopBar';\nimport { equipesAPI } from '../../lib/api';\nimport { usePermissions } from '../../hooks/usePermissions';\nimport { supabase } from '../../lib/supabase';\n\ninterface Equipe {\n  id: string;\n  nome: string;\n  turno?: string;\n  especialidade?: string;\n  lider?: string;\n  membros?: string[];\n  disponibilidade: boolean;\n  observacoes?: string;\n  created_at: string;\n}\n\ninterface Colaborador {\n  id: string;\n  nome: string;\n  cargo?: string;\n  telefone?: string;\n  email?: string;\n  data_admissao?: string;\n  salario?: number;\n  foto_url?: string;\n  status: string;\n  equipe_id?: string;\n}\n\nexport default function EquipesPage() {\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [darkMode, setDarkMode] = useState(true);\n  const [equipes, setEquipes] = useState<Equipe[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterTurno, setFilterTurno] = useState('');\n  const [filterDisponibilidade, setFilterDisponibilidade] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [editingEquipe, setEditingEquipe] = useState<Equipe | null>(null);\n  const { canCreate, canEdit, canDelete } = usePermissions();\n\n  // Form state\n  const [formData, setFormData] = useState({\n    nome: '',\n    turno: 'Manhã',\n    especialidade: '',\n    lider: '',\n    membros: [] as string[],\n    disponibilidade: true,\n    observacoes: ''\n  });\n\n  const [membroInput, setMembroInput] = useState('');\n  const defaultLeaders = ['Wagner', 'Ernando', 'Claudiney', 'Manuel', 'Jailson'];\n\n  const [showColaboradorModal, setShowColaboradorModal] = useState(false);\n  const [colaboradores, setColaboradores] = useState<Colaborador[]>([]);\n  const [editingColaborador, setEditingColaborador] = useState<Colaborador | null>(null);\n  const [colaboradorFormData, setColaboradorFormData] = useState({\n    nome: '',\n    cargo: '',\n    telefone: '',\n    email: '',\n    data_admissao: '',\n    salario: 0,\n    foto_url: '',\n    status: 'ativo',\n    equipe_id: ''\n  });\n\n  // Novo estado para seleção múltipla de colaboradores\n  const [showColaboradorSelector, setShowColaboradorSelector] = useState(false);\n  const [selectedColaboradores, setSelectedColaboradores] = useState<string[]>([]);\n\n  useEffect(() => {\n    if (darkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [darkMode]);\n\n  useEffect(() => {\n    loadData();\n    loadColaboradores();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      const data = await equipesAPI.getAll();\n      setEquipes(data || []);\n    } catch (error) {\n      console.error('Erro ao carregar equipes:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadColaboradores = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('colaboradores')\n        .select('*')\n        .order('nome');\n\n      if (!error && data) {\n        setColaboradores(data);\n      }\n    } catch (error) {\n      console.error('Erro ao carregar colaboradores:', error);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      if (editingEquipe) {\n        await equipesAPI.update(editingEquipe.id, formData);\n      } else {\n        await equipesAPI.create(formData);\n      }\n\n      setShowModal(false);\n      setEditingEquipe(null);\n      resetForm();\n      loadData();\n    } catch (error) {\n      console.error('Erro ao salvar equipe:', error);\n      alert('Erro ao salvar equipe');\n    }\n  };\n\n  const handleColaboradorSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      // Normalize payload: convert empty UUID strings to null to avoid Postgres 22P02 errors\n      const payload: any = { ...colaboradorFormData };\n      if (!payload.equipe_id || payload.equipe_id === '') payload.equipe_id = null;\n\n      if (editingColaborador) {\n        const { error } = await supabase\n          .from('colaboradores')\n          .update(payload)\n          .eq('id', editingColaborador.id);\n        \n        if (error) throw error;\n      } else {\n        const { error } = await supabase\n          .from('colaboradores')\n          .insert([payload]);\n        \n        if (error) throw error;\n      }\n\n      // Fechar modal primeiro\n      setShowColaboradorModal(false);\n      setEditingColaborador(null);\n      resetColaboradorForm();\n      \n      // Aguardar um pouco antes de recarregar\n      setTimeout(async () => {\n        await loadColaboradores();\n        alert(editingColaborador ? 'Colaborador atualizado com sucesso!' : 'Colaborador cadastrado com sucesso!');\n      }, 300);\n    } catch (error: any) {\n      console.error('Erro ao salvar colaborador:', error);\n      alert(`Erro ao salvar colaborador: ${error.message || 'Erro desconhecido'}`);\n    }\n  };\n\n  const handleEdit = (equipe: Equipe) => {\n    setEditingEquipe(equipe);\n    setFormData({\n      nome: equipe.nome,\n      turno: equipe.turno || 'Manhã',\n      especialidade: equipe.especialidade || '',\n      lider: equipe.lider || '',\n      membros: equipe.membros || [],\n      disponibilidade: equipe.disponibilidade,\n      observacoes: equipe.observacoes || ''\n    });\n    setShowModal(true);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Tem certeza que deseja excluir esta equipe?')) return;\n    try {\n      await equipesAPI.delete(id);\n      loadData();\n    } catch (error) {\n      console.error('Erro ao excluir equipe:', error);\n      alert('Erro ao excluir equipe');\n    }\n  };\n\n  const handleDeleteColaborador = async (id: string) => {\n    if (!confirm('Tem certeza que deseja excluir este colaborador?')) return;\n    try {\n      await supabase.from('colaboradores').delete().eq('id', id);\n      loadColaboradores();\n    } catch (error) {\n      console.error('Erro ao excluir colaborador:', error);\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      nome: '',\n      turno: 'Manhã',\n      especialidade: '',\n      lider: '',\n      membros: [],\n      disponibilidade: true,\n      observacoes: ''\n    });\n    setMembroInput('');\n  };\n\n  const addMembro = () => {\n    if (membroInput.trim() && !formData.membros.includes(membroInput.trim())) {\n      setFormData({\n        ...formData,\n        membros: [...formData.membros, membroInput.trim()]\n      });\n      setMembroInput('');\n    }\n  };\n\n  const addColaboradoresAsMembers = () => {\n    const novosNomes = selectedColaboradores\n      .map(id => colaboradores.find(c => c.id === id)?.nome)\n      .filter(nome => nome && !formData.membros.includes(nome)) as string[];\n    \n    setFormData({\n      ...formData,\n      membros: [...formData.membros, ...novosNomes]\n    });\n    \n    setSelectedColaboradores([]);\n    setShowColaboradorSelector(false);\n  };\n\n  const removeMembro = (membro: string) => {\n    setFormData({\n      ...formData,\n      membros: formData.membros.filter(m => m !== membro)\n    });\n  };\n\n  const resetColaboradorForm = () => {\n    setColaboradorFormData({\n      nome: '',\n      cargo: '',\n      telefone: '',\n      email: '',\n      data_admissao: '',\n      salario: 0,\n      foto_url: '',\n      status: 'ativo',\n      equipe_id: ''\n    });\n  };\n\n  const getStatusColaboradorColor = (status: string) => {\n    switch (status) {\n      case 'ativo': return 'bg-green-100 text-green-800';\n      case 'inativo': return 'bg-gray-100 text-gray-800';\n      case 'ferias': return 'bg-blue-100 text-blue-800';\n      case 'afastado': return 'bg-orange-100 text-orange-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const filteredEquipes = equipes.filter(equipe => {\n    const matchSearch = \n      equipe.nome.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      equipe.lider?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      equipe.especialidade?.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchTurno = !filterTurno || equipe.turno === filterTurno;\n    const matchDisponibilidade = \n      !filterDisponibilidade || \n      (filterDisponibilidade === 'disponivel' && equipe.disponibilidade) ||\n      (filterDisponibilidade === 'indisponivel' && !equipe.disponibilidade);\n    \n    return matchSearch && matchTurno && matchDisponibilidade;\n  });\n\n  const turnos = ['Manhã', 'Tarde', 'Noite', 'Integral'];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex\">\n      <Sidebar isOpen={sidebarOpen} onToggle={() => setSidebarOpen(!sidebarOpen)} darkMode={darkMode} />\n      \n      <div className={`flex-1 flex flex-col transition-all duration-300 ${sidebarOpen ? 'ml-64' : 'ml-20'}`}>\n        <TopBar darkMode={darkMode} setDarkMode={setDarkMode} />\n        <main className=\"flex-1 overflow-y-auto p-6\">\n          {/* Header com Tabs */}\n          <div className=\"mb-6\">\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">\n              <i className=\"ri-team-line mr-3\"></i>\n              Gestão de Equipes e Colaboradores\n            </h1>\n            \n            {/* Tabs */}\n            <div className=\"flex gap-2 mb-6\">\n              <button \n                onClick={() => {\n                  setEditingEquipe(null);\n                  resetForm();\n                  setShowModal(true);\n                }}\n                className=\"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors cursor-pointer whitespace-nowrap\"\n              >\n                <i className=\"ri-team-line mr-2\"></i>\n                Nova Equipe\n              </button>\n              <button \n                onClick={() => {\n                  setEditingColaborador(null);\n                  resetColaboradorForm();\n                  setShowColaboradorModal(true);\n                }}\n                className=\"px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors cursor-pointer whitespace-nowrap\"\n              >\n                <i className=\"ri-user-add-line mr-2\"></i>\n                Novo Colaborador\n              </button>\n            </div>\n          </div>\n\n          {/* Stats Cards */}\n          <div className=\"grid grid-cols-1 md:grid-cols-5 gap-6 mb-6\">\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-gray-600 text-sm\">Total de Equipes</span>\n                <i className=\"ri-team-line text-2xl text-blue-500\"></i>\n              </div>\n              <p className=\"text-2xl font-bold text-gray-900\">{equipes.length}</p>\n            </div>\n\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-gray-600 text-sm\">Colaboradores</span>\n                <i className=\"ri-user-line text-2xl text-purple-500\"></i>\n              </div>\n              <p className=\"text-2xl font-bold text-gray-900\">{colaboradores.length}</p>\n            </div>\n\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-gray-600 text-sm\">Ativos</span>\n                <i className=\"ri-checkbox-circle-line text-2xl text-green-500\"></i>\n              </div>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {colaboradores.filter(c => c.status === 'ativo').length}\n              </p>\n            </div>\n\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-gray-600 text-sm\">Disponíveis</span>\n                <i className=\"ri-checkbox-circle-line text-2xl text-green-500\"></i>\n              </div>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {equipes.filter(e => e.disponibilidade).length}\n              </p>\n            </div>\n\n            <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-100\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-gray-600 text-sm\">Total de Membros</span>\n                <i className=\"ri-group-line text-2xl text-orange-500\"></i>\n              </div>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {equipes.reduce((sum, e) => sum + (e.membros?.length || 0), 0)}\n              </p>\n            </div>\n          </div>\n\n          {/* Colaboradores Section */}\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n              <i className=\"ri-user-line mr-2\"></i>\n              Colaboradores Cadastrados\n            </h2>\n            \n            {colaboradores.length === 0 ? (\n              <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center\">\n                <i className=\"ri-user-line text-6xl text-gray-300 mb-4\"></i>\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">Nenhum colaborador cadastrado</h3>\n                <p className=\"text-gray-600 mb-6\">Comece adicionando o primeiro colaborador da sua equipe</p>\n                <button\n                  onClick={() => {\n                    setEditingColaborador(null);\n                    resetColaboradorForm();\n                    setShowColaboradorModal(true);\n                  }}\n                  className=\"px-6 py-3 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 transition-colors cursor-pointer whitespace-nowrap\"\n                >\n                  <i className=\"ri-user-add-line mr-2\"></i>\n                  Adicionar Primeiro Colaborador\n                </button>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n                {colaboradores.map((colab) => (\n                  <div key={colab.id} className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow\">\n                    <div className=\"flex items-start gap-3 mb-3\">\n                      <div className=\"w-12 h-12 rounded-full flex-shrink-0 overflow-hidden\">\n                        {colab.foto_url ? (\n                          <img src={colab.foto_url} alt={colab.nome} className=\"w-12 h-12 object-cover rounded-full\" />\n                        ) : (\n                          <div className=\"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold text-lg\">\n                            {colab.nome.charAt(0).toUpperCase()}\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <h3 className=\"font-semibold text-gray-900 truncate\">{colab.nome}</h3>\n                        {colab.cargo && (\n                          <p className=\"text-sm text-gray-600 truncate\">{colab.cargo}</p>\n                        )}\n                      </div>\n                    </div>\n                    \n                    <div className=\"space-y-2 mb-3\">\n                      {colab.email && (\n                        <div className=\"flex items-center gap-2 text-xs text-gray-600\">\n                          <i className=\"ri-mail-line flex-shrink-0\"></i>\n                          <span className=\"truncate\">{colab.email}</span>\n                        </div>\n                      )}\n                      {colab.telefone && (\n                        <div className=\"flex items-center gap-2 text-xs text-gray-600\">\n                          <i className=\"ri-phone-line flex-shrink-0\"></i>\n                          <span>{colab.telefone}</span>\n                        </div>\n                      )}\n                    </div>\n\n                    <div className=\"flex items-center justify-between\">\n                      <span className={`px-2 py-1 text-xs font-medium rounded-full ${getStatusColaboradorColor(colab.status)}`}>\n                        {colab.status.charAt(0).toUpperCase() + colab.status.slice(1)}\n                      </span>\n                      <div className=\"flex gap-1\">\n                        <button\n                          onClick={() => {\n                            setEditingColaborador(colab);\n                            setColaboradorFormData({\n                              nome: colab.nome,\n                              cargo: colab.cargo || '',\n                              telefone: colab.telefone || '',\n                              email: colab.email || '',\n                              data_admissao: colab.data_admissao || '',\n                              salario: colab.salario || 0,\n                              foto_url: colab.foto_url || '',\n                              status: colab.status,\n                              equipe_id: colab.equipe_id || ''\n                            });\n                            setShowColaboradorModal(true);\n                          }}\n                          className=\"w-7 h-7 flex items-center justify-center text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer\"\n                          title=\"Editar\"\n                        >\n                          <i className=\"ri-edit-line\"></i>\n                        </button>\n                        <button\n                          onClick={() => handleDeleteColaborador(colab.id)}\n                          className=\"w-7 h-7 flex items-center justify-center text-red-600 hover:bg-red-50 rounded-lg transition-colors cursor-pointer\"\n                          title=\"Excluir\"\n                        >\n                          <i className=\"ri-delete-bin-line\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Equipes Section */}\n          <div>\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-2xl font-bold text-gray-900\">Equipes</h2>\n            </div>\n\n            {/* Filters and Actions */}\n            <div className=\"bg-white rounded-xl shadow-sm p-6 mb-6 border border-gray-100\">\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Buscar</label>\n                  <div className=\"relative\">\n                    <i className=\"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\"></i>\n                    <input\n                      type=\"text\"\n                      placeholder=\"Nome, líder...\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                      className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Turno</label>\n                  <select\n                    value={filterTurno}\n                    onChange={(e) => setFilterTurno(e.target.value)}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">Todos os turnos</option>\n                    {turnos.map(turno => (\n                      <option key={turno} value={turno}>{turno}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Disponibilidade</label>\n                  <select\n                    value={filterDisponibilidade}\n                    onChange={(e) => setFilterDisponibilidade(e.target.value)}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">Todas</option>\n                    <option value=\"disponivel\">Disponíveis</option>\n                    <option value=\"indisponivel\">Indisponíveis</option>\n                  </select>\n                </div>\n\n                {canCreate && (\n                  <div className=\"flex items-end\">\n                    <button\n                      onClick={() => {\n                        setEditingEquipe(null);\n                        resetForm();\n                        setShowModal(true);\n                      }}\n                      className=\"w-full bg-gradient-to-r from-blue-500 to-cyan-600 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-cyan-700 transition-all duration-200 font-medium whitespace-nowrap flex items-center justify-center gap-2 cursor-pointer\"\n                    >\n                      <i className=\"ri-add-line text-xl\"></i>\n                      Nova Equipe\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Cards Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {loading ? (\n                <div className=\"col-span-full flex items-center justify-center py-12\">\n                  <i className=\"ri-loader-4-line text-4xl text-gray-400 animate-spin\"></i>\n                </div>\n              ) : filteredEquipes.length === 0 ? (\n                <div className=\"col-span-full text-center py-12\">\n                  <i className=\"ri-team-line text-6xl text-gray-300 mb-4\"></i>\n                  <p className=\"text-gray-500\">Nenhuma equipe encontrada</p>\n                </div>\n              ) : (\n                filteredEquipes.map((equipe) => (\n                  <div key={equipe.id} className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow\">\n                    <div className=\"flex items-start justify-between mb-4\">\n                      <div className=\"flex-1\">\n                        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">{equipe.nome}</h3>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {equipe.turno && (\n                            <span className=\"px-3 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800\">\n                              {equipe.turno}\n                            </span>\n                          )}\n                          <span className={`px-3 py-1 text-xs font-medium rounded-full ${\n                            equipe.disponibilidade \n                              ? 'bg-green-100 text-green-800' \n                              : 'bg-red-100 text-red-800'\n                          }`}>\n                            {equipe.disponibilidade ? 'Disponível' : 'Indisponível'}\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-3 mb-4\">\n                      {equipe.lider && (\n                        <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                          <i className=\"ri-user-star-line text-lg\"></i>\n                          <span><strong>Líder:</strong> {equipe.lider}</span>\n                        </div>\n                      )}\n                      {equipe.especialidade && (\n                        <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                          <i className=\"ri-tools-line text-lg\"></i>\n                          <span><strong>Especialidade:</strong> {equipe.especialidade}</span>\n                        </div>\n                      )}\n                      {equipe.membros && equipe.membros.length > 0 && (\n                        <div>\n                          <div className=\"flex items-center gap-2 text-sm text-gray-600 mb-2\">\n                            <i className=\"ri-group-line text-lg\"></i>\n                            <span><strong>Membros ({equipe.membros.length}):</strong></span>\n                          </div>\n                          <div className=\"flex flex-wrap gap-2 ml-6\">\n                            {equipe.membros.map((membro, index) => (\n                              <span key={index} className=\"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded\">\n                                {membro}\n                              </span>\n                            ))}\n                          </div>\n                        </div>\n                      )}\n                    </div>\n\n                    {equipe.observacoes && (\n                      <div className=\"mb-4 p-3 bg-gray-50 rounded-lg\">\n                        <p className=\"text-xs text-gray-500 mb-1\">Observações:</p>\n                        <p className=\"text-sm text-gray-700\">{equipe.observacoes}</p>\n                      </div>\n                    )}\n\n                    {(canEdit || canDelete) && (\n                      <div className=\"flex gap-2 pt-4 border-t border-gray-100\">\n                        {canEdit && (\n                          <button\n                            onClick={() => handleEdit(equipe)}\n                            className=\"flex-1 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors font-medium whitespace-nowrap flex items-center justify-center gap-2 cursor-pointer\"\n                          >\n                            <i className=\"ri-edit-line\"></i>\n                            Editar\n                          </button>\n                        )}\n                        {canDelete && (\n                          <button\n                            onClick={() => handleDelete(equipe.id)}\n                            className=\"px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors font-medium whitespace-nowrap flex items-center justify-center gap-2 cursor-pointer\"\n                          >\n                            <i className=\"ri-delete-bin-line\"></i>\n                            Excluir\n                          </button>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                ))\n              )}\n            </div>\n          </div>\n        </main>\n      </div>\n\n      {/* Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"bg-gradient-to-r from-blue-500 to-cyan-600 p-6 rounded-t-2xl\">\n              <h2 className=\"text-2xl font-bold text-white\">\n                {editingEquipe ? 'Editar Equipe' : 'Nova Equipe'}\n              </h2>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"p-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Nome da Equipe *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.nome}\n                    onChange={(e) => setFormData({ ...formData, nome: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Turno *\n                  </label>\n                  <select\n                    value={formData.turno}\n                    onChange={(e) => setFormData({ ...formData, turno: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    required\n                  >\n                    {turnos.map(turno => (\n                      <option key={turno} value={turno}>{turno}</option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Especialidade\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={formData.especialidade}\n                    onChange={(e) => setFormData({ ...formData, especialidade: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Líder da Equipe\n                  </label>\n                  <div className=\"flex flex-wrap gap-2 mb-2\">\n                    {defaultLeaders.map((ldr) => (\n                      <button\n                        key={ldr}\n                        type=\"button\"\n                        onClick={() => {\n                          setFormData({ ...formData, lider: ldr });\n                        }}\n                        className={`px-3 py-1 rounded-full border ${formData.lider === ldr ? 'bg-blue-600 text-white border-blue-600' : 'bg-white text-gray-700 border-gray-300'} hover:shadow-sm`}\n                      >\n                        {ldr}\n                      </button>\n                    ))}\n                  </div>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Outro (digite para sobrescrever)\"\n                    value={formData.lider}\n                    onChange={(e) => setFormData({ ...formData, lider: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Disponibilidade *\n                  </label>\n                  <select\n                    value={formData.disponibilidade ? 'true' : 'false'}\n                    onChange={(e) => setFormData({ ...formData, disponibilidade: e.target.value === 'true' })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    required\n                  >\n                    <option value=\"true\">Disponível</option>\n                    <option value=\"false\">Indisponível</option>\n                  </select>\n                </div>\n\n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Membros da Equipe\n                  </label>\n                  <div className=\"flex gap-2 mb-2\">\n                    <input\n                      type=\"text\"\n                      value={membroInput}\n                      onChange={(e) => setMembroInput(e.target.value)}\n                      onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addMembro())}\n                      placeholder=\"Digite o nome e pressione Enter\"\n                      className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={addMembro}\n                      className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors whitespace-nowrap\"\n                    >\n                      <i className=\"ri-add-line\"></i>\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowColaboradorSelector(true)}\n                      className=\"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors whitespace-nowrap cursor-pointer\"\n                      title=\"Selecionar colaboradores cadastrados\"\n                    >\n                      <i className=\"ri-user-add-line\"></i>\n                    </button>\n                  </div>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {formData.membros.map((membro, index) => (\n                      <span key={index} className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm flex items-center gap-2\">\n                        {membro}\n                        <button\n                          type=\"button\"\n                          onClick={() => removeMembro(membro)}\n                          className=\"hover:text-blue-900\"\n                        >\n                          <i className=\"ri-close-line\"></i>\n                        </button>\n                      </span>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Observações\n                  </label>\n                  <textarea\n                    value={formData.observacoes}\n                    onChange={(e) => setFormData({ ...formData, observacoes: e.target.value })}\n                    rows={3}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex gap-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowModal(false);\n                    setEditingEquipe(null);\n                    resetForm();\n                  }}\n                  className=\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium whitespace-nowrap\"\n                >\n                  Cancelar\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 text-white px-6 py-3 rounded-lg hover:from-blue-600 hover:to-cyan-700 transition-all duration-200 font-medium whitespace-nowrap\"\n                >\n                  {editingEquipe ? 'Atualizar' : 'Criar'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Modal Colaborador */}\n      {showColaboradorModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"bg-gradient-to-r from-purple-500 to-pink-600 p-6 rounded-t-2xl\">\n              <h2 className=\"text-2xl font-bold text-white\">\n                {editingColaborador ? 'Editar Colaborador' : 'Novo Colaborador'}\n              </h2>\n            </div>\n\n            <form onSubmit={handleColaboradorSubmit} className=\"p-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Nome Completo *</label>\n                  <input\n                    type=\"text\"\n                    value={colaboradorFormData.nome}\n                    onChange={(e) => setColaboradorFormData({ ...colaboradorFormData, nome: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Foto</label>\n                  <div className=\"flex items-center gap-3\">\n                    {colaboradorFormData.foto_url && (\n                      <img src={colaboradorFormData.foto_url} alt=\"preview\" className=\"w-16 h-16 object-cover rounded-md\" />\n                    )}\n                    <label className=\"px-3 py-2 bg-gray-100 border rounded cursor-pointer\">\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        className=\"hidden\"\n                        onChange={(e) => {\n                          const file = e.target.files?.[0];\n                          if (file) {\n                            const reader = new FileReader();\n                            reader.onloadend = () => {\n                              setColaboradorFormData({ ...colaboradorFormData, foto_url: reader.result as string });\n                            };\n                            reader.readAsDataURL(file);\n                          }\n                        }}\n                      />\n                      {colaboradorFormData.foto_url ? 'Alterar Foto' : 'Enviar Foto'}\n                    </label>\n                    {colaboradorFormData.foto_url && (\n                      <button type=\"button\" onClick={() => setColaboradorFormData({ ...colaboradorFormData, foto_url: '' })} className=\"text-sm text-red-600\">Remover</button>\n                    )}\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Cargo</label>\n                  <input\n                    type=\"text\"\n                    value={colaboradorFormData.cargo}\n                    onChange={(e) => setColaboradorFormData({ ...colaboradorFormData, cargo: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Status *</label>\n                  <select\n                    value={colaboradorFormData.status}\n                    onChange={(e) => setColaboradorFormData({ ...colaboradorFormData, status: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                    required\n                  >\n                    <option value=\"ativo\">Ativo</option>\n                    <option value=\"inativo\">Inativo</option>\n                    <option value=\"ferias\">Férias</option>\n                    <option value=\"afastado\">Afastado</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email</label>\n                  <input\n                    type=\"email\"\n                    value={colaboradorFormData.email}\n                    onChange={(e) => setColaboradorFormData({ ...colaboradorFormData, email: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Telefone</label>\n                  <input\n                    type=\"tel\"\n                    value={colaboradorFormData.telefone}\n                    onChange={(e) => setColaboradorFormData({ ...colaboradorFormData, telefone: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Data de Admissão</label>\n                  <input\n                    type=\"date\"\n                    value={colaboradorFormData.data_admissao}\n                    onChange={(e) => setColaboradorFormData({ ...colaboradorFormData, data_admissao: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Salário (R$)</label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    value={colaboradorFormData.salario}\n                    onChange={(e) => setColaboradorFormData({ ...colaboradorFormData, salario: parseFloat(e.target.value) })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Equipe</label>\n                  <select\n                    value={colaboradorFormData.equipe_id}\n                    onChange={(e) => setColaboradorFormData({ ...colaboradorFormData, equipe_id: e.target.value })}\n                    className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\n                  >\n                    <option value=\"\">Sem equipe</option>\n                    {equipes.map(eq => (\n                      <option key={eq.id} value={eq.id}>{eq.nome}</option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n\n              <div className=\"flex gap-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowColaboradorModal(false);\n                    setEditingColaborador(null);\n                    resetColaboradorForm();\n                  }}\n                  className=\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium whitespace-nowrap\"\n                >\n                  Cancelar\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"flex-1 bg-gradient-to-r from-purple-500 to-pink-600 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-pink-700 transition-all duration-200 font-medium whitespace-nowrap\"\n                >\n                  {editingColaborador ? 'Atualizar' : 'Criar'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Modal Seletor de Colaboradores */}\n      {showColaboradorSelector && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <div className=\"bg-gradient-to-r from-purple-500 to-pink-600 p-6 rounded-t-2xl\">\n              <h2 className=\"text-2xl font-bold text-white\">\n                Selecionar Colaboradores\n              </h2>\n              <p className=\"text-purple-100 text-sm mt-1\">Marque os colaboradores que deseja adicionar à equipe</p>\n            </div>\n\n            <div className=\"p-6\">\n              <div className=\"space-y-3 mb-6 max-h-96 overflow-y-auto\">\n                {colaboradores.filter(c => c.status === 'ativo').map((colab) => (\n                  <label\n                    key={colab.id}\n                    className=\"flex items-center gap-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors\"\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedColaboradores.includes(colab.id)}\n                      onChange={(e) => {\n                        if (e.target.checked) {\n                          setSelectedColaboradores([...selectedColaboradores, colab.id]);\n                        } else {\n                          setSelectedColaboradores(selectedColaboradores.filter(id => id !== colab.id));\n                        }\n                      }}\n                      className=\"w-5 h-5 text-purple-600 rounded focus:ring-2 focus:ring-purple-500 cursor-pointer\"\n                    />\n                    <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white font-bold\">\n                      {colab.nome.charAt(0).toUpperCase()}\n                    </div>\n                    <div className=\"flex-1\">\n                      <p className=\"font-semibold text-gray-900\">{colab.nome}</p>\n                      {colab.cargo && (\n                        <p className=\"text-sm text-gray-600\">{colab.cargo}</p>\n                      )}\n                    </div>\n                    <span className={`px-2 py-1 text-xs font-medium rounded-full ${getStatusColaboradorColor(colab.status)}`}>\n                      {colab.status.charAt(0).toUpperCase() + colab.status.slice(1)}\n                    </span>\n                  </label>\n                ))}\n                {colaboradores.filter(c => c.status === 'ativo').length === 0 && (\n                  <div className=\"text-center py-8\">\n                    <i className=\"ri-user-line text-5xl text-gray-300 mb-3\"></i>\n                    <p className=\"text-gray-500\">Nenhum colaborador ativo cadastrado</p>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex gap-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowColaboradorSelector(false);\n                    setSelectedColaboradores([]);\n                  }}\n                  className=\"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium whitespace-nowrap\"\n                >\n                  Cancelar\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={addColaboradoresAsMembers}\n                  disabled={selectedColaboradores.length === 0}\n                  className=\"flex-1 bg-gradient-to-r from-purple-500 to-pink-600 text-white px-6 py-3 rounded-lg hover:from-purple-600 hover:to-pink-700 transition-all duration-200 font-medium whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Adicionar {selectedColaboradores.length > 0 ? `(${selectedColaboradores.length})` : ''}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["EquipesPage","sidebarOpen","setSidebarOpen","useState","darkMode","setDarkMode","equipes","setEquipes","loading","setLoading","searchTerm","setSearchTerm","filterTurno","setFilterTurno","filterDisponibilidade","setFilterDisponibilidade","showModal","setShowModal","editingEquipe","setEditingEquipe","canCreate","canEdit","canDelete","usePermissions","formData","setFormData","membroInput","setMembroInput","defaultLeaders","showColaboradorModal","setShowColaboradorModal","colaboradores","setColaboradores","editingColaborador","setEditingColaborador","colaboradorFormData","setColaboradorFormData","showColaboradorSelector","setShowColaboradorSelector","selectedColaboradores","setSelectedColaboradores","useEffect","loadData","loadColaboradores","data","equipesAPI","error","supabase","handleSubmit","e","resetForm","handleColaboradorSubmit","payload","resetColaboradorForm","handleEdit","equipe","handleDelete","id","handleDeleteColaborador","addMembro","addColaboradoresAsMembers","novosNomes","_a","c","nome","removeMembro","membro","m","getStatusColaboradorColor","status","filteredEquipes","matchSearch","_b","matchTurno","matchDisponibilidade","turnos","jsxs","jsx","Sidebar","TopBar","sum","colab","turno","index","ldr","file","reader","eq"],"mappings":"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"}