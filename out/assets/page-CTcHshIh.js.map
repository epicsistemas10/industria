{"version":3,"file":"page-CTcHshIh.js","sources":["../../src/pages/usuarios/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { supabase } from '../../lib/supabase';\nimport Sidebar from '../dashboard/components/Sidebar';\nimport TopBar from '../dashboard/components/TopBar';\n\ninterface Usuario {\n  id: string;\n  nome: string;\n  email: string;\n  cargo: string;\n  departamento: string;\n  perfil: 'admin' | 'gestor' | 'tecnico' | 'visualizador';\n  status: 'ativo' | 'inativo' | 'bloqueado';\n  avatar?: string;\n  telefone?: string;\n  dataAdmissao: string;\n  ultimoAcesso?: string;\n}\n\nexport default function UsuariosPage() {\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [darkMode, setDarkMode] = useState(true);\n  const [usuarios, setUsuarios] = useState<Usuario[]>([]);\n  const [loading, setLoading] = useState(true);\n  const { user: authUser, session } = useAuth();\n  const [currentPerfil, setCurrentPerfil] = useState<string | null>(null);\n  const [currentUserId, setCurrentUserId] = useState<string | null>(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterRole, setFilterRole] = useState('todos');\n  const [busca, setBusca] = useState('');\n  const [filtroStatus, setFiltroStatus] = useState<string>('todos');\n  const [filtroPerfil, setFiltroPerfil] = useState<string>('todos');\n\n  // Estado único para controle do modal e formulário\n  const [showModal, setShowModal] = useState(false);\n  const [editingUser, setEditingUser] = useState<Usuario | null>(null);\n  const [formData, setFormData] = useState({\n    nome: '',\n    email: '',\n    senha: '',\n    cargo: 'tecnico' as 'admin' | 'gestor' | 'tecnico' | 'operador',\n    telefone: '',\n    departamento: '',\n    ativo: true\n  });\n\n  useEffect(() => {\n    carregarUsuarios();\n    // fetch current user's perfil from usuarios table (if exists)\n    const fetchMyProfile = async () => {\n      try {\n        if (!session?.user?.email) return;\n        const { data, error } = await supabase\n          .from('usuarios')\n          .select('id, perfil')\n          .eq('email', session.user.email)\n          .limit(1)\n          .maybeSingle();\n\n        if (error) {\n          console.debug('Não foi possível carregar perfil do usuário atual:', error.message || error);\n          return;\n        }\n        if (data) {\n          setCurrentPerfil(data.perfil || null);\n          setCurrentUserId(data.id || null);\n        }\n      } catch (err) {\n        console.error('Erro ao obter perfil do usuário atual', err);\n      }\n    };\n\n    fetchMyProfile();\n  }, []);\n\n  const carregarUsuarios = () => {\n    // Carregar usuários reais do Supabase\n    (async () => {\n      setLoading(true);\n      try {\n        const { data, error } = await supabase\n          .from('usuarios')\n          .select('*')\n          .order('nome', { ascending: true });\n\n        if (error) {\n          console.error('Erro ao carregar usuários do Supabase:', error);\n          setUsuarios([]);\n        } else if (data) {\n          // Mapear campos para a interface local (ajuste conforme colunas reais)\n          const mapped = data.map((d: any) => ({\n            id: d.id,\n            nome: d.nome,\n            email: d.email,\n            cargo: d.cargo || '',\n            departamento: d.departamento || '',\n            perfil: (d.perfil as any) || 'visualizador',\n            status: (d.status as any) || (d.ativo === false ? 'inativo' : 'ativo'),\n            telefone: d.telefone || '',\n            dataAdmissao: d.data_admissao || d.created_at || '',\n            ultimoAcesso: d.ultimo_acesso || d.last_sign_in_at || null,\n            avatar: d.avatar || d.foto_url || undefined\n          }));\n          setUsuarios(mapped as Usuario[]);\n        }\n      } catch (err) {\n        console.error('Erro inesperado ao carregar usuários:', err);\n        setUsuarios([]);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    try {\n      if (editingUser) {\n        // Atualizar usuário existente (omitindo `ativo` para evitar PGRST204 se a coluna não existir)\n        const payload: any = {\n          nome: formData.nome,\n          email: formData.email,\n          cargo: formData.cargo,\n          telefone: formData.telefone,\n          departamento: formData.departamento,\n          atualizado_em: new Date().toISOString()\n        };\n\n        const { error } = await supabase\n          .from('usuarios')\n          .update(payload)\n          .eq('id', editingUser.id);\n\n        if (error) throw error;\n      } else {\n        // Criar novo usuário (omitindo `ativo` para evitar PGRST204 se a coluna não existir)\n        const payload: any = {\n          nome: formData.nome,\n          email: formData.email,\n          senha: formData.senha,\n          cargo: formData.cargo,\n          telefone: formData.telefone,\n          departamento: formData.departamento\n        };\n\n        const { error } = await supabase\n          .from('usuarios')\n          .insert([payload]);\n\n        if (error) throw error;\n      }\n\n      setShowModal(false);\n      setEditingUser(null);\n      setFormData({\n        nome: '',\n        email: '',\n        senha: '',\n        cargo: 'tecnico',\n        telefone: '',\n        departamento: '',\n        ativo: true\n      });\n      carregarUsuarios();\n    } catch (err) {\n      console.error('Erro ao salvar usuário:', err);\n      alert('Erro ao salvar usuário. Tente novamente.');\n    }\n  };\n\n  const handleEdit = (usuario: Usuario) => {\n    setEditingUser(usuario);\n    setFormData({\n      nome: usuario.nome,\n      email: usuario.email,\n      senha: '',\n      cargo: usuario.cargo,\n      telefone: usuario.telefone || '',\n      departamento: usuario.departamento || '',\n      ativo: (usuario as any).ativo ?? true\n    });\n    setShowModal(true);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Tem certeza que deseja excluir este usuário?')) return;\n\n    try {\n      const { error } = await supabase\n        .from('usuarios')\n        .delete()\n        .eq('id', id);\n\n      if (error) throw error;\n      carregarUsuarios();\n    } catch (err) {\n      console.error('Erro ao excluir usuário:', err);\n      alert('Erro ao excluir usuário. Tente novamente.');\n    }\n  };\n\n  const toggleBlock = async (usuario: Usuario) => {\n    const confirmMsg = usuario.status === 'bloqueado' ? 'Deseja desbloquear este usuário?' : 'Deseja bloquear este usuário?';\n    if (!confirm(confirmMsg)) return;\n\n    try {\n      // Prefer updating `ativo` if the DB has that column; otherwise update `status`.\n      const payload: any = {};\n      if (typeof usuario.ativo !== 'undefined') {\n        payload.ativo = !('' + usuario.ativo).startsWith('f') && usuario.status !== 'bloqueado' ? false : true;\n      } else {\n        payload.status = usuario.status === 'bloqueado' ? 'ativo' : 'bloqueado';\n      }\n\n      const { error } = await supabase\n        .from('usuarios')\n        .update(payload)\n        .eq('id', usuario.id);\n\n      if (error) throw error;\n      carregarUsuarios();\n    } catch (err) {\n      console.error('Erro ao bloquear/desbloquear usuário:', err);\n      alert('Erro ao bloquear/desbloquear usuário. Verifique se o banco tem a coluna `ativo` e se você tem permissão.');\n    }\n  };\n\n  const hasPermission = (action: 'edit' | 'delete' | 'block', usuario: Usuario) => {\n    // admin can do everything; gestor can edit non-admins; users can edit themselves\n    if (currentPerfil === 'admin') return true;\n    if (action === 'edit') {\n      if (currentUserId && currentUserId === usuario.id) return true;\n      if (currentPerfil === 'gestor' && usuario.perfil !== 'admin') return true;\n    }\n    if (action === 'delete') {\n      return false; // only admin by default\n    }\n    if (action === 'block') {\n      if (currentPerfil === 'gestor' && usuario.perfil === 'tecnico') return true;\n      if (currentUserId && currentUserId === usuario.id) return true; // allow self-unblock\n    }\n    return false;\n  };\n\n  const usuariosFiltrados = usuarios.filter(u => {\n    const matchBusca = u.nome.toLowerCase().includes(busca.toLowerCase()) ||\n                       u.email.toLowerCase().includes(busca.toLowerCase()) ||\n                       u.cargo.toLowerCase().includes(busca.toLowerCase());\n    const matchStatus = filtroStatus === 'todos' || u.status === filtroStatus;\n    const matchPerfil = filtroPerfil === 'todos' || u.perfil === filtroPerfil;\n    return matchBusca && matchStatus && matchPerfil;\n  });\n\n  const getPerfilConfig = (perfil: string) => {\n    const configs = {\n      admin: { bg: 'bg-red-500/10', text: 'text-red-400', badge: 'bg-red-500', nome: 'Administrador' },\n      gestor: { bg: 'bg-purple-500/10', text: 'text-purple-400', badge: 'bg-purple-500', nome: 'Gestor' },\n      tecnico: { bg: 'bg-blue-500/10', text: 'text-blue-400', badge: 'bg-blue-500', nome: 'Técnico' },\n      visualizador: { bg: 'bg-gray-500/10', text: 'text-gray-400', badge: 'bg-gray-500', nome: 'Visualizador' }\n    };\n    return configs[perfil as keyof typeof configs] || configs.visualizador;\n  };\n\n  const getStatusConfig = (status: string) => {\n    const configs = {\n      ativo: { bg: 'bg-green-500/10', text: 'text-green-400', badge: 'bg-green-500', nome: 'Ativo' },\n      inativo: { bg: 'bg-yellow-500/10', text: 'text-yellow-400', badge: 'bg-yellow-500', nome: 'Inativo' },\n      bloqueado: { bg: 'bg-red-500/10', text: 'text-red-400', badge: 'bg-red-500', nome: 'Bloqueado' }\n    };\n    return configs[status as keyof typeof configs] || configs.inativo;\n  };\n\n  const formatarUltimoAcesso = (data?: string) => {\n    if (!data) return 'Nunca';\n    const agora = new Date();\n    const dataAcesso = new Date(data);\n    const diff = agora.getTime() - dataAcesso.getTime();\n    const dias = Math.floor(diff / 86400000);\n\n    if (dias === 0) return 'Hoje';\n    if (dias === 1) return 'Ontem';\n    if (dias < 7) return `${dias} dias atrás`;\n    if (dias < 30) return `${Math.floor(dias / 7)} semanas atrás`;\n    return `${Math.floor(dias / 30)} meses atrás`;\n  };\n\n  const estatisticas = {\n    total: usuarios.length,\n    ativos: usuarios.filter(u => u.status === 'ativo').length,\n    inativos: usuarios.filter(u => u.status === 'inativo').length,\n    bloqueados: usuarios.filter(u => u.status === 'bloqueado').length\n  };\n\n  return (\n    <div className={`min-h-screen ${darkMode ? 'bg-slate-900' : 'bg-gray-100'} transition-colors duration-300`}>\n      <Sidebar isOpen={sidebarOpen} onToggle={() => setSidebarOpen(!sidebarOpen)} darkMode={darkMode} />\n\n      <div className={`transition-all duration-300 ${sidebarOpen ? 'ml-64' : 'ml-20'}`}>\n        <TopBar darkMode={darkMode} setDarkMode={setDarkMode} />\n\n        <main className=\"p-6\">\n          {/* Header */}\n          <div className=\"bg-gradient-to-r from-violet-600 to-purple-600 rounded-xl p-6 mb-6\">\n            <h1 className=\"text-3xl font-bold text-white mb-2\">Gestão de Usuários</h1>\n            <p className=\"text-violet-100\">Controle de acesso e permissões do sistema</p>\n          </div>\n\n          {/* Estatísticas */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\n            <div className=\"bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg p-6 text-white\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <i className=\"ri-user-line text-3xl opacity-80\"></i>\n                <span className=\"text-4xl font-bold\">{estatisticas.total}</span>\n              </div>\n              <h3 className=\"text-sm font-medium opacity-90\">Total de Usuários</h3>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-green-600 to-green-700 rounded-lg p-6 text-white\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <i className=\"ri-user-smile-line text-3xl opacity-80\"></i>\n                <span className=\"text-4xl font-bold\">{estatisticas.ativos}</span>\n              </div>\n              <h3 className=\"text-sm font-medium opacity-90\">Usuários Ativos</h3>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-yellow-600 to-yellow-700 rounded-lg p-6 text-white\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <i className=\"ri-user-unfollow-line text-3xl opacity-80\"></i>\n                <span className=\"text-4xl font-bold\">{estatisticas.inativos}</span>\n              </div>\n              <h3 className=\"text-sm font-medium opacity-90\">Usuários Inativos</h3>\n            </div>\n\n            <div className=\"bg-gradient-to-br from-red-600 to-red-700 rounded-lg p-6 text-white\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <i className=\"ri-user-forbid-line text-3xl opacity-80\"></i>\n                <span className=\"text-4xl font-bold\">{estatisticas.bloqueados}</span>\n              </div>\n              <h3 className=\"text-sm font-medium opacity-90\">Usuários Bloqueados</h3>\n            </div>\n          </div>\n\n          {/* Barra de Ações */}\n          <div className=\"bg-gray-900 rounded-lg border border-gray-800 p-4 mb-6\">\n            <div className=\"flex flex-wrap items-center gap-4\">\n              {/* Busca */}\n              <div className=\"flex-1 min-w-[300px]\">\n                <div className=\"relative\">\n                  <i className=\"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\"></i>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Buscar por nome, email ou cargo...\"\n                    value={busca}\n                    onChange={(e) => setBusca(e.target.value)}\n                    className=\"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-violet-500\"\n                  />\n                </div>\n              </div>\n\n              {/* Filtros */}\n              <select\n                value={filtroStatus}\n                onChange={(e) => setFiltroStatus(e.target.value)}\n                className=\"px-4 py-2 pr-8 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-violet-500\"\n              >\n                <option value=\"todos\">Todos os Status</option>\n                <option value=\"ativo\">Ativos</option>\n                <option value=\"inativo\">Inativos</option>\n                <option value=\"bloqueado\">Bloqueados</option>\n              </select>\n\n              <select\n                value={filtroPerfil}\n                onChange={(e) => setFiltroPerfil(e.target.value)}\n                className=\"px-4 py-2 pr-8 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-violet-500\"\n              >\n                <option value=\"todos\">Todos os Perfis</option>\n                <option value=\"admin\">Administrador</option>\n                <option value=\"gestor\">Gestor</option>\n                <option value=\"tecnico\">Técnico</option>\n                <option value=\"visualizador\">Visualizador</option>\n              </select>\n\n              <button\n                onClick={() => {\n                  setEditingUser(null);\n                  setFormData({\n                    nome: '',\n                    email: '',\n                    senha: '',\n                    cargo: 'tecnico',\n                    telefone: '',\n                    departamento: '',\n                    ativo: true\n                  });\n                  setShowModal(true);\n                }}\n                className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all whitespace-nowrap cursor-pointer\"\n              >\n                <i className=\"ri-user-add-line mr-2\"></i>\n                Novo Usuário\n              </button>\n            </div>\n          </div>\n\n          {/* Modal de Criação/Edição */}\n          {showModal && (\n            <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n              <div className=\"bg-slate-800 rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <h3 className=\"text-2xl font-bold text-white\">\n                    {editingUser ? 'Editar Usuário' : 'Novo Usuário'}\n                  </h3>\n                  <button\n                    onClick={() => setShowModal(false)}\n                    className=\"w-10 h-10 rounded-lg flex items-center justify-center cursor-pointer hover:bg-slate-700\"\n                  >\n                    <i className=\"ri-close-line text-xl text-gray-400\"></i>\n                  </button>\n                </div>\n\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2 text-gray-300\">\n                        Nome Completo *\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={formData.nome}\n                        onChange={(e) => setFormData({ ...formData, nome: e.target.value })}\n                        className=\"w-full px-4 py-2 rounded-lg border bg-slate-700 border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        required\n                      />\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2 text-gray-300\">\n                        E-mail *\n                      </label>\n                      <input\n                        type=\"email\"\n                        value={formData.email}\n                        onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                        className=\"w-full px-4 py-2 rounded-lg border bg-slate-700 border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        required\n                      />\n                    </div>\n\n                    {!editingUser && (\n                      <div>\n                        <label className=\"block text-sm font-medium mb-2 text-gray-300\">\n                          Senha *\n                        </label>\n                        <input\n                          type=\"password\"\n                          value={formData.senha}\n                          onChange={(e) => setFormData({ ...formData, senha: e.target.value })}\n                          className=\"w-full px-4 py-2 rounded-lg border bg-slate-700 border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                          required={!editingUser}\n                          minLength={6}\n                        />\n                      </div>\n                    )}\n\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2 text-gray-300\">\n                        Cargo *\n                      </label>\n                      <select\n                        value={formData.cargo}\n                        onChange={(e) => setFormData({ ...formData, cargo: e.target.value as any })}\n                        className=\"w-full px-4 py-2 pr-8 rounded-lg border bg-slate-700 border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                        required\n                      >\n                        <option value=\"admin\">Administrador</option>\n                        <option value=\"gestor\">Gestor</option>\n                        <option value=\"tecnico\">Técnico</option>\n                        <option value=\"operador\">Operador</option>\n                      </select>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2 text-gray-300\">\n                        Telefone\n                      </label>\n                      <input\n                        type=\"tel\"\n                        value={formData.telefone}\n                        onChange={(e) => setFormData({ ...formData, telefone: e.target.value })}\n                        className=\"w-full px-4 py-2 rounded-lg border bg-slate-700 border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      />\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium mb-2 text-gray-300\">\n                        Departamento\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={formData.departamento}\n                        onChange={(e) => setFormData({ ...formData, departamento: e.target.value })}\n                        className=\"w-full px-4 py-2 rounded-lg border bg-slate-700 border-slate-600 text-white focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center gap-2\">\n                    <input\n                      type=\"checkbox\"\n                      id=\"ativo\"\n                      checked={formData.ativo}\n                      onChange={(e) => setFormData({ ...formData, ativo: e.target.checked })}\n                      className=\"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                    />\n                    <label htmlFor=\"ativo\" className=\"text-sm text-gray-300\">\n                      Usuário ativo\n                    </label>\n                  </div>\n\n                  <div className=\"flex gap-3 pt-4\">\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowModal(false)}\n                      className=\"flex-1 px-6 py-3 rounded-lg border border-slate-600 text-gray-300 hover:bg-slate-700 cursor-pointer whitespace-nowrap\"\n                    >\n                      Cancelar\n                    </button>\n                    <button\n                      type=\"submit\"\n                      className=\"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 cursor-pointer whitespace-nowrap\"\n                    >\n                      {editingUser ? 'Atualizar' : 'Criar'} Usuário\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          )}\n\n          {/* Lista de Usuários */}\n          <div className=\"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden\">\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full\">\n                <thead className=\"bg-gray-800 border-b border-gray-700\">\n                  <tr>\n                    <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">\n                      Usuário\n                    </th>\n                    <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">\n                      Cargo / Departamento\n                    </th>\n                    <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">\n                      Perfil\n                    </th>\n                    <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">\n                      Status\n                    </th>\n                    <th className=\"px-6 py-4 text-left text-xs font-medium text-gray-400 uppercase tracking-wider\">\n                      Último Acesso\n                    </th>\n                    <th className=\"px-6 py-4 text-right text-xs font-medium text-gray-400 uppercase tracking-wider\">\n                      Ações\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-gray-800\">\n                  {usuariosFiltrados.map(usuario => {\n                    const perfilConfig = getPerfilConfig(usuario.perfil);\n                    const statusConfig = getStatusConfig(usuario.status);\n\n                    return (\n                      <tr key={usuario.id} className=\"hover:bg-gray-800/50 transition-colors\">\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <div className=\"flex items-center gap-3\">\n                            <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-purple-500 flex items-center justify-center text-white font-bold\">\n                              {usuario.nome.split(' ').map(n => n[0]).join('').substring(0, 2)}\n                            </div>\n                            <div>\n                              <div className=\"text-white font-medium\">{usuario.nome}</div>\n                              <div className=\"text-sm text-gray-400\">{usuario.email}</div>\n                            </div>\n                          </div>\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <div className=\"text-white\">{usuario.cargo}</div>\n                          <div className=\"text-sm text-gray-400\">{usuario.departamento}</div>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <span className={`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${perfilConfig.bg} ${perfilConfig.text}`}>\n                            <span className={`w-2 h-2 rounded-full ${perfilConfig.badge}`}></span>\n                            {perfilConfig.nome}\n                          </span>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap\">\n                          <span className={`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium ${statusConfig.bg} ${statusConfig.text}`}>\n                            <span className={`w-2 h-2 rounded-full ${statusConfig.badge}`}></span>\n                            {statusConfig.nome}\n                          </span>\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-400\">\n                          {formatarUltimoAcesso(usuario.ultimoAcesso)}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-right\">\n                          <div className=\"flex items-center justify-end gap-2\">\n                            {hasPermission('edit', usuario) ? (\n                              <button\n                                onClick={() => handleEdit(usuario)}\n                                className=\"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-all cursor-pointer\"\n                                title=\"Editar\"\n                              >\n                                <i className=\"ri-edit-line\"></i>\n                              </button>\n                            ) : (\n                              <span className=\"p-2 text-gray-600 opacity-60 rounded-lg\"> </span>\n                            )}\n\n                            {hasPermission('block', usuario) ? (\n                              <button\n                                onClick={() => toggleBlock(usuario)}\n                                className=\"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-all cursor-pointer\"\n                                title={usuario.status === 'bloqueado' ? 'Desbloquear' : 'Bloquear'}\n                              >\n                                <i className=\"ri-key-line\"></i>\n                              </button>\n                            ) : (\n                              <span className=\"p-2 text-gray-600 opacity-60 rounded-lg\"> </span>\n                            )}\n\n                            {hasPermission('delete', usuario) ? (\n                              <button\n                                onClick={() => handleDelete(usuario.id)}\n                                className=\"p-2 text-gray-400 hover:text-red-400 hover:bg-gray-800 rounded-lg transition-all cursor-pointer\"\n                                title=\"Excluir\"\n                              >\n                                <i className=\"ri-delete-bin-line\"></i>\n                              </button>\n                            ) : (\n                              <span className=\"p-2 text-gray-600 opacity-60 rounded-lg\"> </span>\n                            )}\n                          </div>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}"],"names":["UsuariosPage","sidebarOpen","setSidebarOpen","useState","darkMode","setDarkMode","usuarios","setUsuarios","loading","setLoading","authUser","session","useAuth","currentPerfil","setCurrentPerfil","currentUserId","setCurrentUserId","searchTerm","setSearchTerm","filterRole","setFilterRole","busca","setBusca","filtroStatus","setFiltroStatus","filtroPerfil","setFiltroPerfil","showModal","setShowModal","editingUser","setEditingUser","formData","setFormData","useEffect","carregarUsuarios","_a","data","error","supabase","err","mapped","d","handleSubmit","e","payload","handleEdit","usuario","handleDelete","id","toggleBlock","confirmMsg","hasPermission","action","usuariosFiltrados","u","matchBusca","matchStatus","matchPerfil","getPerfilConfig","perfil","configs","getStatusConfig","status","formatarUltimoAcesso","agora","dataAcesso","diff","dias","estatisticas","jsx","Sidebar","TopBar","jsxs","perfilConfig","statusConfig","n"],"mappings":"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"}