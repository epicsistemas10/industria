{"version":3,"file":"page-De8QRNIK.js","sources":["../../src/components/modals/EquipamentoModal.tsx","../../src/pages/equipamentos/page.tsx"],"sourcesContent":["\nimport { useState, useEffect } from 'react';\nimport { equipamentosAPI } from '../../lib/api';\nimport { supabase } from '../../lib/supabase';\n\ninterface EquipamentoModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n  equipamentoId?: string;\n  darkMode?: boolean;\n}\n\nexport default function EquipamentoModal({ \n  isOpen, \n  onClose, \n  onSuccess, \n  equipamentoId,\n  darkMode = true \n}: EquipamentoModalProps) {\n  const [loading, setLoading] = useState(false);\n  const [setores, setSetores] = useState<any[]>([]);\n  const [formData, setFormData] = useState({\n    codigo_interno: '',\n    nome: '',\n    setor_id: '',\n    descricao: '',\n    especificacoes: '',\n    fabricante: '',\n    modelo: '',\n    linha_setor: '',\n    ano_fabricacao: new Date().getFullYear(),\n    criticidade: 'Média' as 'Baixa' | 'Média' | 'Alta' | 'Crítica',\n    status_revisao: 0,\n    foto_url: '',\n    mtbf: 0,\n    data_inicio_revisao: '',\n    data_prevista_fim: ''\n  });\n\n  useEffect(() => {\n    if (isOpen) {\n      loadSetores();\n      if (equipamentoId) {\n        loadEquipamento();\n      } else {\n        resetForm();\n      }\n    }\n  }, [isOpen, equipamentoId]);\n\n  const loadSetores = async () => {\n    try {\n      const { data, error } = await supabase\n        .from('setores')\n        .select('*')\n        .order('nome');\n      if (error) throw error;\n      setSetores(data || []);\n    } catch (error) {\n      console.error('Erro ao carregar setores:', error);\n    }\n  };\n\n  const loadEquipamento = async () => {\n    if (!equipamentoId) return;\n    try {\n      setLoading(true);\n      const data = await equipamentosAPI.getById(equipamentoId);\n      setFormData({\n        codigo_interno: data.codigo_interno || '',\n        nome: data.nome || '',\n        setor_id: data.setor_id || '',\n        descricao: data.descricao || '',\n        especificacoes: data.especificacoes || '',\n        fabricante: data.fabricante || '',\n        modelo: data.modelo || '',\n        linha_setor: data.linha_setor || '',\n        ano_fabricacao: data.ano_fabricacao || new Date().getFullYear(),\n        criticidade: data.criticidade || 'Média',\n        status_revisao: data.status_revisao || 0,\n        foto_url: data.foto_url || '',\n        mtbf: data.mtbf || 0,\n        data_inicio_revisao: data.data_inicio_revisao || '',\n        data_prevista_fim: data.data_prevista_fim || ''\n      });\n    } catch (error) {\n      console.error('Erro ao carregar equipamento:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      codigo_interno: '',\n      nome: '',\n      setor_id: '',\n      descricao: '',\n      especificacoes: '',\n      fabricante: '',\n      modelo: '',\n      linha_setor: '',\n      ano_fabricacao: new Date().getFullYear(),\n      criticidade: 'Média',\n      status_revisao: 0,\n      foto_url: '',\n      mtbf: 0,\n      data_inicio_revisao: '',\n      data_prevista_fim: ''\n    });\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      if (equipamentoId) {\n        await equipamentosAPI.update(equipamentoId, formData);\n      } else {\n        await equipamentosAPI.create(formData);\n      }\n      onSuccess();\n      onClose();\n    } catch (error) {\n      console.error('Erro ao salvar equipamento:', error);\n      alert('Erro ao salvar equipamento. Tente novamente.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleImageUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({ ...formData, foto_url: reader.result as string });\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n      <div className={`${darkMode ? 'bg-slate-800' : 'bg-white'} rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto`}>\n        <div className=\"sticky top-0 bg-gradient-to-r from-blue-600 to-cyan-600 p-6 flex justify-between items-center rounded-t-xl\">\n          <h2 className=\"text-2xl font-bold text-white\">\n            <i className=\"ri-tools-line mr-2\"></i>\n            {equipamentoId ? 'Editar Equipamento' : 'Novo Equipamento'}\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"text-white hover:text-gray-200 transition-colors cursor-pointer\"\n          >\n            <i className=\"ri-close-line text-2xl\"></i>\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                ID / Código Interno *\n              </label>\n              <input\n                type=\"text\"\n                required\n                value={formData.codigo_interno}\n                onChange={(e) => setFormData({ ...formData, codigo_interno: e.target.value })}\n                className={`w-full px-4 py-2 rounded-lg border ${\n                  darkMode \n                    ? 'bg-slate-700 border-slate-600 text-white' \n                    : 'bg-white border-gray-300 text-gray-900'\n                } focus:outline-none focus:border-blue-500`}\n                placeholder=\"Ex: EQ-001\"\n              />\n            </div>\n\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                Nome do Equipamento *\n              </label>\n              <input\n                type=\"text\"\n                required\n                value={formData.nome}\n                onChange={(e) => setFormData({ ...formData, nome: e.target.value })}\n                className={`w-full px-4 py-2 rounded-lg border ${\n                  darkMode \n                    ? 'bg-slate-700 border-slate-600 text-white' \n                    : 'bg-white border-gray-300 text-gray-900'\n                } focus:outline-none focus:border-blue-500`}\n                placeholder=\"Ex: Descaroçador 1\"\n              />\n            </div>\n\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                Setor *\n              </label>\n              <select\n                required\n                value={formData.setor_id}\n                onChange={(e) => setFormData({ ...formData, setor_id: e.target.value })}\n                className={`w-full px-4 py-2 rounded-lg border cursor-pointer ${\n                  darkMode \n                    ? 'bg-slate-700 border-slate-600 text-white' \n                    : 'bg-white border-gray-300 text-gray-900'\n                } focus:outline-none focus:border-blue-500 pr-8`}\n              >\n                <option value=\"\">Selecione o setor</option>\n                {setores.map((setor) => (\n                  <option key={setor.id} value={setor.id}>\n                    {setor.nome}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                Linha / Setor Específico\n              </label>\n              <input\n                type=\"text\"\n                value={formData.linha_setor}\n                onChange={(e) => setFormData({ ...formData, linha_setor: e.target.value })}\n                className={`w-full px-4 py-2 rounded-lg border ${\n                  darkMode \n                    ? 'bg-slate-700 border-slate-600 text-white' \n                    : 'bg-white border-gray-300 text-gray-900'\n                } focus:outline-none focus:border-blue-500`}\n                placeholder=\"Ex: Linha A, Setor 2\"\n              />\n            </div>\n\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                Marca / Fabricante\n              </label>\n              <input\n                type=\"text\"\n                value={formData.fabricante}\n                onChange={(e) => setFormData({ ...formData, fabricante: e.target.value })}\n                className={`w-full px-4 py-2 rounded-lg border ${\n                  darkMode \n                    ? 'bg-slate-700 border-slate-600 text-white' \n                    : 'bg-white border-gray-300 text-gray-900'\n                } focus:outline-none focus:border-blue-500`}\n                placeholder=\"Ex: Siemens\"\n              />\n            </div>\n\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                Modelo\n              </label>\n              <input\n                type=\"text\"\n                value={formData.modelo}\n                onChange={(e) => setFormData({ ...formData, modelo: e.target.value })}\n                className={`w-full px-4 py-2 rounded-lg border ${\n                  darkMode \n                    ? 'bg-slate-700 border-slate-600 text-white' \n                    : 'bg-white border-gray-300 text-gray-900'\n                } focus:outline-none focus:border-blue-500`}\n                placeholder=\"Ex: XYZ-1000\"\n              />\n            </div>\n\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                Criticidade *\n              </label>\n              <select\n                required\n                value={formData.criticidade}\n                onChange={(e) => setFormData({ ...formData, criticidade: e.target.value as any })}\n                className={`w-full px-4 py-2 rounded-lg border cursor-pointer ${\n                  darkMode \n                    ? 'bg-slate-700 border-slate-600 text-white' \n                    : 'bg-white border-gray-300 text-gray-900'\n                } focus:outline-none focus:border-blue-500 pr-8`}\n              >\n                <option value=\"Baixa\">Baixa</option>\n                <option value=\"Média\">Média</option>\n                <option value=\"Alta\">Alta</option>\n                <option value=\"Crítica\">Crítica</option>\n              </select>\n            </div>\n\n            <div>\n              <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                Ano de Fabricação\n              </label>\n              <input\n                type=\"number\"\n                min=\"1900\"\n                max={new Date().getFullYear()}\n                value={formData.ano_fabricacao}\n                onChange={(e) => setFormData({ ...formData, ano_fabricacao: parseInt(e.target.value) })}\n                className={`w-full px-4 py-2 rounded-lg border ${\n                  darkMode \n                    ? 'bg-slate-700 border-slate-600 text-white' \n                    : 'bg-white border-gray-300 text-gray-900'\n                } focus:outline-none focus:border-blue-500`}\n              />\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                Especificações Técnicas\n              </label>\n              <textarea\n                rows={3}\n                value={formData.especificacoes}\n                onChange={(e) => setFormData({ ...formData, especificacoes: e.target.value })}\n                className={`w-full px-4 py-2 rounded-lg border ${\n                  darkMode \n                    ? 'bg-slate-700 border-slate-600 text-white' \n                    : 'bg-white border-gray-300 text-gray-900'\n                } focus:outline-none focus:border-blue-500`}\n                placeholder=\"Potência, voltagem, capacidade, etc...\"\n                maxLength={500}\n              />\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                Descrição\n              </label>\n              <textarea\n                rows={3}\n                value={formData.descricao}\n                onChange={(e) => setFormData({ ...formData, descricao: e.target.value })}\n                className={`w-full px-4 py-2 rounded-lg border ${\n                  darkMode \n                    ? 'bg-slate-700 border-slate-600 text-white' \n                    : 'bg-white border-gray-300 text-gray-900'\n                } focus:outline-none focus:border-blue-500`}\n                placeholder=\"Descreva o equipamento...\"\n                maxLength={500}\n              />\n            </div>\n\n            <div className=\"md:col-span-2\">\n              <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\n                Foto do Equipamento\n              </label>\n              <div className=\"flex items-center gap-4\">\n                {formData.foto_url && (\n                  <img src={formData.foto_url} alt=\"Preview\" className=\"w-20 h-20 rounded-lg object-cover\" />\n                )}\n                <label className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer whitespace-nowrap\">\n                  <i className=\"ri-upload-2-line mr-2\"></i>\n                  {formData.foto_url ? 'Alterar Foto' : 'Fazer Upload'}\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handleImageUpload}\n                    className=\"hidden\"\n                  />\n                </label>\n                {formData.foto_url && (\n                  <button\n                    type=\"button\"\n                    onClick={() => setFormData({ ...formData, foto_url: '' })}\n                    className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 cursor-pointer whitespace-nowrap\"\n                  >\n                    <i className=\"ri-delete-bin-line\"></i>\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex gap-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              disabled={loading}\n              className={`flex-1 px-6 py-3 rounded-lg transition-colors whitespace-nowrap cursor-pointer ${\n                darkMode \n                  ? 'bg-slate-700 text-white hover:bg-slate-600' \n                  : 'bg-gray-200 text-gray-900 hover:bg-gray-300'\n              }`}\n            >\n              Cancelar\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-lg hover:from-blue-700 hover:to-cyan-700 transition-all whitespace-nowrap cursor-pointer disabled:opacity-50\"\n            >\n              {loading ? 'Salvando...' : equipamentoId ? 'Atualizar' : 'Criar'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Sidebar from '../dashboard/components/Sidebar';\nimport TopBar from '../dashboard/components/TopBar';\nimport { equipamentosAPI } from '../../lib/api';\nimport { supabase } from '../../lib/supabase';\nimport { usePermissions } from '../../hooks/usePermissions';\nimport { useAuth } from '../../contexts/AuthContext';\nimport EquipamentoModal from '../../components/modals/EquipamentoModal';\n\ninterface Equipamento {\n  id: string;\n  nome: string;\n  setor?: string;\n  criticidade: string;\n  status_revisao: number;\n  foto_url?: string;\n  setores?: { nome: string };\n}\n\nexport default function EquipamentosPage() {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const { canCreate, canEdit, canDelete } = usePermissions();\n  const [equipamentos, setEquipamentos] = useState<Equipamento[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterSetor, setFilterSetor] = useState('');\n  const [filterCriticidade, setFilterCriticidade] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [selectedEquipamentoId, setSelectedEquipamentoId] = useState<string | undefined>();\n  const [darkMode, setDarkMode] = useState(true);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [showServiceModal, setShowServiceModal] = useState(false);\n  const [serviceName, setServiceName] = useState('');\n  const [serviceDesc, setServiceDesc] = useState('');\n  const [serviceTargetEquipId, setServiceTargetEquipId] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (darkMode) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [darkMode]);\n\n  useEffect(() => {\n    loadEquipamentos();\n  }, []);\n\n  const loadEquipamentos = async () => {\n    try {\n      setLoading(true);\n      setError(false);\n      const data = await equipamentosAPI.getAll();\n      setEquipamentos(data || []);\n    } catch (error) {\n      console.error('Erro ao carregar equipamentos:', error);\n      setError(true);\n      setEquipamentos([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!canDelete) {\n      alert('Você não tem permissão para excluir equipamentos');\n      return;\n    }\n\n    if (confirm('Tem certeza que deseja excluir este equipamento?')) {\n      try {\n        await equipamentosAPI.delete(id);\n        loadEquipamentos();\n      } catch (error) {\n        console.error('Erro ao excluir equipamento:', error);\n        alert('Erro ao excluir equipamento');\n      }\n    }\n  };\n\n  const handleEdit = (id: string) => {\n    setSelectedEquipamentoId(id);\n    setShowModal(true);\n  };\n\n  const handleCreate = () => {\n    setSelectedEquipamentoId(undefined);\n    setShowModal(true);\n  };\n\n  const handleModalClose = () => {\n    setShowModal(false);\n    setSelectedEquipamentoId(undefined);\n  };\n\n  const handleModalSuccess = () => {\n    loadEquipamentos();\n  };\n\n  const filteredEquipamentos = equipamentos.filter(eq => {\n    const matchSearch = (eq.nome?.toLowerCase() || '').includes(searchTerm.toLowerCase());\n    const setorNome = eq.setores?.nome || eq.setor || '';\n    const matchSetor = !filterSetor || setorNome === filterSetor;\n    const matchCriticidade = !filterCriticidade || eq.criticidade === filterCriticidade;\n    return matchSearch && matchSetor && matchCriticidade;\n  });\n\n  const setores = [...new Set(equipamentos.map(eq => eq.setores?.nome || eq.setor).filter(Boolean))];\n  const criticidades = ['Baixa', 'Média', 'Alta', 'Crítica'];\n\n  const getCriticidadeColor = (criticidade: string) => {\n    switch (criticidade?.toLowerCase()) {\n      case 'baixa': return 'bg-green-500/20 text-green-400';\n      case 'média':\n      case 'media': return 'bg-yellow-500/20 text-yellow-400';\n      case 'alta': return 'bg-orange-500/20 text-orange-400';\n      case 'crítica':\n      case 'critica': return 'bg-red-500/20 text-red-400';\n      default: return 'bg-gray-500/20 text-gray-400';\n    }\n  };\n\n  const getStatusColor = (status: number) => {\n    if (status >= 100) return 'bg-green-500';\n    if (status >= 75) return 'bg-blue-500';\n    if (status >= 50) return 'bg-yellow-500';\n    if (status >= 25) return 'bg-orange-500';\n    return 'bg-red-500';\n  };\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen bg-slate-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4\"></div>\n          <p className=\"text-white\">Carregando...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`min-h-screen ${darkMode ? 'bg-slate-900' : 'bg-gray-100'} transition-colors duration-300`}>\n      <Sidebar isOpen={sidebarOpen} onToggle={() => setSidebarOpen(!sidebarOpen)} darkMode={darkMode} />\n      \n      <div className={`transition-all duration-300 ${sidebarOpen ? 'ml-64' : 'ml-20'}`}>\n        <TopBar darkMode={darkMode} setDarkMode={setDarkMode} />\n        \n        <main className=\"p-6\">\n          {/* Header */}\n          <div className=\"mb-6 flex items-center justify-between flex-wrap gap-4\">\n            <div>\n              <h1 className={`text-3xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\n                <i className=\"ri-tools-line mr-3\"></i>\n                Equipamentos\n              </h1>\n              <p className={`mt-1 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                Gerencie todos os equipamentos da planta industrial\n              </p>\n            </div>\n\n            <button\n              onClick={handleCreate}\n              className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-lg hover:from-blue-700 hover:to-cyan-700 transition-all shadow-lg whitespace-nowrap cursor-pointer\"\n            >\n              <i className=\"ri-add-line mr-2\"></i>\n              Novo Equipamento\n            </button>\n          </div>\n\n          {/* Filtros */}\n          <div className={`${darkMode ? 'bg-slate-800' : 'bg-white'} rounded-xl p-4 mb-6 shadow-lg`}>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div className=\"relative\">\n                <i className={`ri-search-line absolute left-3 top-1/2 -translate-y-1/2 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}></i>\n                <input\n                  type=\"text\"\n                  placeholder=\"Buscar equipamento...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className={`w-full pl-10 pr-4 py-2 rounded-lg border ${darkMode ? 'bg-slate-700 border-slate-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900'} focus:ring-2 focus:ring-green-500 focus:border-transparent`}\n                />\n              </div>\n\n              <select\n                value={filterSetor}\n                onChange={(e) => setFilterSetor(e.target.value)}\n                className={`px-4 py-2 rounded-lg border ${darkMode ? 'bg-slate-700 border-slate-600 text-white' : 'bg-white border-gray-300 text-gray-900'} focus:ring-2 focus:ring-green-500 focus:border-transparent pr-8`}\n              >\n                <option value=\"\">Todos os Setores</option>\n                {setores.map(setor => (\n                  <option key={setor} value={setor}>{setor}</option>\n                ))}\n              </select>\n\n              <select\n                value={filterCriticidade}\n                onChange={(e) => setFilterCriticidade(e.target.value)}\n                className={`px-4 py-2 rounded-lg border ${darkMode ? 'bg-slate-700 border-slate-600 text-white' : 'bg-white border-gray-300 text-gray-900'} focus:ring-2 focus:ring-green-500 focus:border-transparent pr-8`}\n              >\n                <option value=\"\">Todas as Criticidades</option>\n                {criticidades.map(crit => (\n                  <option key={crit} value={crit}>{crit}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n\n          {/* Loading */}\n          {loading && (\n            <div className=\"flex items-center justify-center h-64\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600\"></div>\n            </div>\n          )}\n\n          {/* Error State */}\n          {!loading && error && (\n            <div className={`${darkMode ? 'bg-slate-800' : 'bg-white'} rounded-xl p-12 text-center shadow-lg`}>\n              <i className={`ri-error-warning-line text-6xl mb-4 text-red-400`}></i>\n              <h3 className={`text-xl font-semibold mb-2 ${darkMode ? 'text-white' : 'text-gray-900'}`}>\n                Erro ao carregar equipamentos\n              </h3>\n              <p className={`mb-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                Ocorreu um erro ao buscar os dados. Tente novamente.\n              </p>\n              <button\n                onClick={loadEquipamentos}\n                className=\"bg-gradient-to-r from-blue-600 to-cyan-600 text-white px-6 py-3 rounded-lg hover:shadow-lg transition-all whitespace-nowrap cursor-pointer\"\n              >\n                <i className=\"ri-refresh-line mr-2\"></i>\n                Tentar Novamente\n              </button>\n            </div>\n          )}\n\n          {/* Grid de Equipamentos */}\n          {!loading && !error && filteredEquipamentos.length > 0 && (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n              {filteredEquipamentos.map((equipamento) => (\n                <div\n                  key={equipamento.id}\n                  className={`rounded-xl shadow-lg hover:shadow-xl transition-all cursor-pointer border overflow-hidden group ${darkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-gray-200'}`}\n                >\n                  {/* Imagem */}\n                  <div className=\"relative h-48 bg-gradient-to-br from-slate-700 to-slate-800 overflow-hidden\">\n                    {equipamento.foto_url ? (\n                      <img\n                        src={equipamento.foto_url}\n                        alt={equipamento.nome}\n                        className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300\"\n                      />\n                    ) : (\n                      <div className=\"w-full h-full flex items-center justify-center\">\n                        <i className=\"ri-tools-line text-6xl text-gray-500\"></i>\n                      </div>\n                    )}\n                    <div className={`absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-semibold ${getCriticidadeColor(equipamento.criticidade)}`}>\n                      {equipamento.criticidade || 'N/A'}\n                    </div>\n                  </div>\n\n                  {/* Conteúdo */}\n                  <div className=\"p-4\">\n                    <h3 className={`font-bold text-lg mb-2 truncate ${darkMode ? 'text-white' : 'text-gray-900'}`}>{equipamento.nome}</h3>\n                    \n                    <div className={`flex items-center gap-2 text-sm mb-3 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                      <i className=\"ri-building-line\"></i>\n                      <span>{equipamento.setores?.nome || equipamento.setor || 'Sem setor'}</span>\n                    </div>\n\n                    {/* Progresso */}\n                    <div className=\"mb-4\">\n                      <div className=\"flex items-center justify-between text-sm mb-1\">\n                        <span className={darkMode ? 'text-gray-400' : 'text-gray-600'}>Progresso</span>\n                        <span className={`font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>{equipamento.status_revisao || 0}%</span>\n                      </div>\n                      <div className={`w-full rounded-full h-2 ${darkMode ? 'bg-slate-700' : 'bg-gray-200'}`}>\n                        <div\n                          className={`h-2 rounded-full transition-all ${getStatusColor(equipamento.status_revisao || 0)}`}\n                          style={{ width: `${equipamento.status_revisao || 0}%` }}\n                        ></div>\n                      </div>\n                    </div>\n\n                    {/* Ações */}\n                    <div className=\"flex gap-2\">\n                      <button\n                        onClick={() => navigate(`/equipamento/${equipamento.id}`)}\n                        className=\"flex-1 px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium whitespace-nowrap cursor-pointer\"\n                      >\n                        <i className=\"ri-eye-line mr-1\"></i>\n                        Ver Detalhes\n                      </button>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setServiceTargetEquipId(equipamento.id);\n                          setServiceName('');\n                          setServiceDesc('');\n                          setShowServiceModal(true);\n                        }}\n                        className=\"w-10 h-10 flex items-center justify-center bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors whitespace-nowrap cursor-pointer\"\n                        title=\"Cadastrar Serviço\"\n                      >\n                        <i className=\"ri-add-circle-line text-lg\"></i>\n                      </button>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleEdit(equipamento.id);\n                        }}\n                        className=\"w-10 h-10 flex items-center justify-center bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap cursor-pointer\"\n                        title=\"Editar\"\n                      >\n                        <i className=\"ri-edit-line text-lg\"></i>\n                      </button>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleDelete(equipamento.id);\n                        }}\n                        className=\"w-10 h-10 flex items-center justify-center bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors whitespace-nowrap cursor-pointer\"\n                        title=\"Excluir\"\n                      >\n                        <i className=\"ri-delete-bin-line text-lg\"></i>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* Sem resultados */}\n          {!loading && !error && filteredEquipamentos.length === 0 && (\n            <div className={`${darkMode ? 'bg-slate-800' : 'bg-white'} rounded-xl p-12 text-center shadow-lg`}>\n              <i className={`ri-tools-line text-6xl mb-4 ${darkMode ? 'text-gray-600' : 'text-gray-300'}`}></i>\n              <h3 className={`text-xl font-semibold mb-2 ${darkMode ? 'text-white' : 'text-gray-900'}`}>\n                Nenhum equipamento encontrado\n              </h3>\n              <p className={`mb-6 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\n                {searchTerm || filterSetor || filterCriticidade \n                  ? 'Tente ajustar os filtros de busca'\n                  : 'Comece cadastrando um novo equipamento'}\n              </p>\n              {canCreate && !searchTerm && !filterSetor && !filterCriticidade && (\n                <button\n                  onClick={handleCreate}\n                  className=\"bg-gradient-to-r from-blue-600 to-cyan-600 text-white px-6 py-3 rounded-lg hover:shadow-lg transition-all whitespace-nowrap cursor-pointer\"\n                >\n                  <i className=\"ri-add-line mr-2\"></i>\n                  Cadastrar Primeiro Equipamento\n                </button>\n              )}\n            </div>\n          )}\n        </main>\n      </div>\n\n      <EquipamentoModal\n        isOpen={showModal}\n        onClose={handleModalClose}\n        onSuccess={handleModalSuccess}\n        equipamentoId={selectedEquipamentoId}\n        darkMode={darkMode}\n      />\n\n      {showServiceModal && (\n        <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n          <div className={`${darkMode ? 'bg-slate-800' : 'bg-white'} rounded-xl w-full max-w-lg p-6`}> \n            <div className=\"flex items-center justify-between mb-4\">\n              <h4 className={`text-lg font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>Cadastrar Serviço</h4>\n              <button onClick={() => setShowServiceModal(false)} className={`w-8 h-8 rounded flex items-center justify-center ${darkMode ? 'hover:bg-slate-700' : 'hover:bg-gray-100'}`}>\n                <i className={`ri-close-line ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}></i>\n              </button>\n            </div>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Nome do Serviço</label>\n                <input type=\"text\" value={serviceName} onChange={(e) => setServiceName(e.target.value)} className={`w-full px-4 py-2 rounded-lg border ${darkMode ? 'bg-slate-700 border-slate-600 text-white' : 'bg-white border-gray-300 text-gray-900'}`} placeholder=\"Ex: Troca de correia\" />\n              </div>\n\n              <div>\n                <label className={`block text-sm font-medium mb-2 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>Descrição (opcional)</label>\n                <textarea value={serviceDesc} onChange={(e) => setServiceDesc(e.target.value)} className={`w-full px-4 py-2 rounded-lg border ${darkMode ? 'bg-slate-700 border-slate-600 text-white' : 'bg-white border-gray-300 text-gray-900'}`} rows={3} />\n              </div>\n\n              <div className=\"flex gap-3 pt-4\">\n                <button onClick={() => setShowServiceModal(false)} className={`flex-1 px-4 py-2 rounded-lg ${darkMode ? 'bg-slate-700 text-white hover:bg-slate-600' : 'bg-gray-200 text-gray-900 hover:bg-gray-300'}`}>Cancelar</button>\n                <button onClick={async () => {\n                  if (!serviceName || !serviceTargetEquipId) { alert('Informe nome do serviço'); return; }\n                  try {\n                    const { error } = await supabase\n                      .from('equipamento_servicos')\n                      .insert([{ equipamento_id: serviceTargetEquipId, nome: serviceName, descricao: serviceDesc || null }]);\n                    if (error) { console.error('Erro ao criar serviço:', error); alert('Erro ao cadastrar serviço'); return; }\n                    alert('Serviço cadastrado com sucesso');\n                    setShowServiceModal(false);\n                  } catch (err) { console.error(err); alert('Erro ao cadastrar serviço'); }\n                }} className=\"flex-1 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700\">Cadastrar</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["EquipamentoModal","isOpen","onClose","onSuccess","equipamentoId","darkMode","loading","setLoading","useState","setores","setSetores","formData","setFormData","useEffect","loadSetores","loadEquipamento","resetForm","data","error","supabase","equipamentosAPI","handleSubmit","e","handleImageUpload","file","_a","reader","jsx","jsxs","setor","EquipamentosPage","navigate","useNavigate","user","useAuth","canCreate","canDelete","usePermissions","equipamentos","setEquipamentos","setError","searchTerm","setSearchTerm","filterSetor","setFilterSetor","filterCriticidade","setFilterCriticidade","showModal","setShowModal","selectedEquipamentoId","setSelectedEquipamentoId","setDarkMode","sidebarOpen","setSidebarOpen","showServiceModal","setShowServiceModal","serviceName","setServiceName","serviceDesc","setServiceDesc","serviceTargetEquipId","setServiceTargetEquipId","loadEquipamentos","handleDelete","id","handleEdit","handleCreate","handleModalClose","handleModalSuccess","filteredEquipamentos","eq","matchSearch","setorNome","_b","matchSetor","matchCriticidade","criticidades","getCriticidadeColor","criticidade","getStatusColor","status","Sidebar","TopBar","crit","equipamento","err"],"mappings":"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"}