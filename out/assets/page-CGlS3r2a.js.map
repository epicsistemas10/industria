{"version":3,"file":"page-CGlS3r2a.js","sources":["../../src/pages/servicos/page.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport Sidebar from '../dashboard/components/Sidebar';\nimport TopBar from '../dashboard/components/TopBar';\nimport { servicosAPI } from '../../lib/api';\nimport { supabase } from '../../lib/supabase';\nimport { equipamentosAPI } from '../../lib/api';\n\nexport default function ServicosPage() {\n  const [darkMode, setDarkMode] = useState(true);\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n  const [servicos, setServicos] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [editing, setEditing] = useState<any | null>(null);\n  const [form, setForm] = useState({ codigo: '', nome: '', descricao: '', percentual_revisao: '' });\n  const tipos = ['Preventiva', 'Preditiva', 'Corretiva', 'Melhoria'];\n  const [formTipo, setFormTipo] = useState<string>(tipos[0]);\n  const [equipamentos, setEquipamentos] = useState<any[]>([]);\n  const [showVincularModal, setShowVincularModal] = useState(false);\n  const [selectedServId, setSelectedServId] = useState<string | null>(null);\n  const [selectedEquipIds, setSelectedEquipIds] = useState<string[]>([]);\n\n  useEffect(() => {\n    loadAll();\n  }, []);\n\n  const loadAll = async () => {\n    setLoading(true);\n    try {\n      const s = await servicosAPI.getAll();\n      setServicos(s || []);\n      const eq = await equipamentosAPI.getAll();\n      setEquipamentos(eq || []);\n    } catch (err) {\n      console.error('Erro ao carregar serviços/equipamentos:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openNew = () => {\n    setEditing(null);\n    const newCode = generateCodigo();\n    setForm({ codigo: newCode, nome: '', descricao: '', percentual_revisao: '' });\n    setFormTipo(tipos[0]);\n    setShowModal(true);\n  };\n\n  const generateCodigo = () => {\n    // Try to generate a sequential code based on existing service codes.\n    // Pattern: SV-YYYY-0001\n    try {\n      const year = new Date().getFullYear();\n      const prefix = `SV-${year}-`;\n      // find highest numeric suffix for this year\n      let max = 0;\n      servicos.forEach(s => {\n        const c: string = s.codigo || '';\n        if (c.startsWith(prefix)) {\n          const suffix = c.replace(prefix, '');\n          const n = parseInt(suffix, 10);\n          if (!isNaN(n) && n > max) max = n;\n        }\n      });\n      const next = (max + 1).toString().padStart(4, '0');\n      return `${prefix}${next}`;\n    } catch (err) {\n      return `SV-${Date.now().toString(36).toUpperCase()}`;\n    }\n  };\n\n  const openEdit = (s: any) => {\n    setEditing(s);\n    setForm({ codigo: s.codigo || '', nome: s.nome || '', descricao: s.descricao || '', percentual_revisao: s.percentual_revisao?.toString() || '' });\n    setShowModal(true);\n  };\n\n  const submit = async (e?: any) => {\n    if (e) e.preventDefault();\n    try {\n      const payload: any = { codigo: form.codigo, nome: form.nome, descricao: form.descricao || null, tipo: formTipo };\n      if (form.percentual_revisao) payload.percentual_revisao = parseFloat(form.percentual_revisao);\n      if (editing) {\n        await servicosAPI.update(editing.id, payload);\n      } else {\n        await servicosAPI.create(payload);\n      }\n      setShowModal(false);\n      await loadAll();\n    } catch (err) {\n      console.error('Erro ao salvar serviço:', err);\n      alert('Erro ao salvar serviço');\n    }\n  };\n\n  const remove = async (id: string) => {\n    if (!confirm('Remover serviço?')) return;\n    try {\n      await servicosAPI.delete(id);\n      await loadAll();\n    } catch (err) {\n      console.error('Erro ao excluir serviço:', err);\n      alert('Erro ao excluir serviço');\n    }\n  };\n\n  const openVincular = (servId: string) => {\n    setSelectedServId(servId);\n    setSelectedEquipIds([]);\n    setShowVincularModal(true);\n  };\n\n  const vincular = async () => {\n    if (!selectedServId || selectedEquipIds.length === 0) { alert('Selecione pelo menos um equipamento'); return; }\n    try {\n      const rows = selectedEquipIds.map(eid => ({ equipamento_id: eid, nome: servicos.find(s=>s.id===selectedServId)?.nome || '', descricao: servicos.find(s=>s.id===selectedServId)?.descricao || null, percentual_revisao: servicos.find(s=>s.id===selectedServId)?.percentual_revisao || 0, servico_id: selectedServId }));\n      const { error } = await supabase.from('equipamento_servicos').insert(rows);\n      if (error) throw error;\n      alert('Serviço vinculado aos equipamentos');\n      setShowVincularModal(false);\n    } catch (err) {\n      console.error('Erro ao vincular serviço:', err);\n      alert('Erro ao vincular serviço');\n    }\n  };\n\n  return (\n    <div className={`min-h-screen ${darkMode ? 'bg-slate-900' : 'bg-gray-100'} transition-colors duration-300`}>\n      <Sidebar isOpen={sidebarOpen} onToggle={() => setSidebarOpen(!sidebarOpen)} darkMode={darkMode} />\n      <div className={`transition-all duration-300 ${sidebarOpen ? 'ml-64' : 'ml-20'}`}>\n        <TopBar darkMode={darkMode} setDarkMode={setDarkMode} />\n        <main className=\"p-6\">\n          <div className=\"mb-6 flex items-center justify-between\">\n            <div>\n              <h1 className={`text-3xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>Serviços</h1>\n              <p className={`mt-1 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Cadastre serviços padrão e vincule aos equipamentos</p>\n            </div>\n            <div>\n              <button onClick={openNew} className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-lg\">Novo Serviço</button>\n            </div>\n          </div>\n\n          {loading ? (\n            <div className=\"py-12 text-center text-gray-400\">Carregando...</div>\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              {servicos.map(s => (\n                <div key={s.id} className={`p-4 rounded-xl ${darkMode ? 'bg-slate-800' : 'bg-white'} shadow`}>\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <div>\n                      <div className=\"text-sm text-gray-400\">{s.codigo}</div>\n                      <h3 className={`font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>{s.nome}</h3>\n                    </div>\n                    <div className=\"flex gap-2\">\n                      <button onClick={() => openVincular(s.id)} className=\"px-3 py-1 bg-emerald-600 text-white rounded\">Vincular</button>\n                      <button onClick={() => openEdit(s)} className=\"px-3 py-1 bg-blue-600 text-white rounded\">Editar</button>\n                      <button onClick={() => remove(s.id)} className=\"px-3 py-1 bg-red-600 text-white rounded\">Excluir</button>\n                    </div>\n                  </div>\n                  <p className={`text-sm ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>{s.descricao}</p>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* Modal criar/editar */}\n          {showModal && (\n            <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n              <div className={`${darkMode ? 'bg-slate-800' : 'bg-white'} rounded-xl w-full max-w-2xl p-6`}> \n                <h3 className={`text-lg font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>{editing ? 'Editar Serviço' : 'Novo Serviço'}</h3>\n                <form onSubmit={submit} className=\"mt-4 space-y-4\">\n                  <div>\n                    <label className=\"block text-sm text-gray-400\">Código do Serviço</label>\n                    <input className=\"w-full px-3 py-2 rounded\" value={form.codigo} onChange={(e)=>setForm({...form,codigo:e.target.value})} />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm text-gray-400\">Nome</label>\n                    <input className=\"w-full px-3 py-2 rounded\" value={form.nome} onChange={(e)=>setForm({...form,nome:e.target.value})} required />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm text-gray-400\">Descrição</label>\n                    <textarea className=\"w-full px-3 py-2 rounded\" value={form.descricao} onChange={(e)=>setForm({...form,descricao:e.target.value})} />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm text-gray-400\">Tipo</label>\n                    <select className=\"w-full px-3 py-2 rounded\" value={formTipo} onChange={(e)=>setFormTipo(e.target.value)}>\n                      {tipos.map(t => (\n                        <option key={t} value={t}>{t}</option>\n                      ))}\n                    </select>\n                  </div>\n                  <div className=\"flex gap-2 justify-end\">\n                    <button type=\"button\" onClick={()=>setShowModal(false)} className=\"px-4 py-2\">Cancelar</button>\n                    <button type=\"submit\" className=\"px-4 py-2 bg-blue-600 text-white rounded\">Salvar</button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          )}\n\n          {/* Modal Vincular */}\n          {showVincularModal && (\n            <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n              <div className={`${darkMode ? 'bg-slate-800' : 'bg-white'} rounded-xl w-full max-w-2xl p-6`}> \n                <h3 className={`text-lg font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>Vincular Serviço a Equipamentos</h3>\n                <div className=\"mt-4 max-h-64 overflow-y-auto space-y-2\">\n                  {equipamentos.map(eq => (\n                    <label key={eq.id} className=\"flex items-center gap-3 p-2 border rounded\">\n                      <input type=\"checkbox\" checked={selectedEquipIds.includes(eq.id)} onChange={(e)=>{\n                        if(e.target.checked) setSelectedEquipIds(prev=>[...prev,eq.id]); else setSelectedEquipIds(prev=>prev.filter(id=>id!==eq.id));\n                      }} />\n                      <div className=\"flex-1\">{eq.nome}</div>\n                    </label>\n                  ))}\n                </div>\n                <div className=\"flex gap-2 justify-end mt-4\">\n                  <button onClick={()=>setShowVincularModal(false)} className=\"px-4 py-2\">Cancelar</button>\n                  <button onClick={vincular} className=\"px-4 py-2 bg-emerald-600 text-white rounded\">Vincular</button>\n                </div>\n              </div>\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  );\n}\n"],"names":["ServicosPage","darkMode","setDarkMode","useState","sidebarOpen","setSidebarOpen","servicos","setServicos","loading","setLoading","showModal","setShowModal","editing","setEditing","form","setForm","tipos","formTipo","setFormTipo","equipamentos","setEquipamentos","showVincularModal","setShowVincularModal","selectedServId","setSelectedServId","selectedEquipIds","setSelectedEquipIds","useEffect","loadAll","servicosAPI","eq","equipamentosAPI","err","openNew","newCode","generateCodigo","prefix","max","s","c","suffix","n","next","openEdit","_a","submit","e","payload","remove","id","openVincular","servId","vincular","rows","eid","_b","_c","error","supabase","jsx","Sidebar","TopBar","jsxs","t","prev"],"mappings":"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"}